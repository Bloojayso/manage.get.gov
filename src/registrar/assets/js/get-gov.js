(()=>{"use strict";var e={984:(e,t,n)=>{n.d(t,{P:()=>o});var r=n(650);function o(){var e=!0,t=!1;function n(e,t,n){e.value===t?(0,r.Bt)(n):(0,r.kl)(n)}document.addEventListener("DOMContentLoaded",(function(r){document.querySelectorAll(".usa-combo-box").forEach((function(r){var o=r.querySelector("input"),a=r.querySelector("select");if(o&&a){var i=a.getAttribute("data-default-value"),c=r.querySelector(".usa-combo-box__clear-input");if(c){var s=r.querySelector("#".concat(o.id,"--list")),l=new MutationObserver((function(n){n.forEach((function(n){"childList"===n.type&&function(n,r,o){if(r&&!r.querySelector('[data-value=""]')&&!t){var a=document.createElement("li");a.setAttribute("role","option"),a.setAttribute("data-value",""),a.classList.add("usa-combo-box__list-option"),o||a.classList.add("usa-combo-box__list-option--selected"),a.textContent="âŽ¯",r.insertBefore(a,r.firstChild),a.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e=!1,n.click(),e=!0}))}}(c,s,i)}))}));l.observe(s,{childList:!0,subtree:!0}),o.addEventListener("input",(function(){t=!0})),o.addEventListener("blur",(function(){t=!1})),n(a,i,c),a.addEventListener("change",(function(){n(a,i,c)})),c.addEventListener("click",(function(t){if(e&&i){t.preventDefault(),t.stopPropagation(),o.click();var n=document.querySelectorAll(".usa-combo-box__list-option");n&&n.forEach((function(e){e.getAttribute("data-value")===i&&e.click()}))}}))}else console.warn("No clear element found")}else console.warn("No combobox element found")}))}))}},979:(e,t,n)=>{function r(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return o(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,c=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return c=e.done,e},e:function(e){s=!0,i=e},f:function(){try{c||null==n.return||n.return()}finally{if(s)throw i}}}}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}n.d(t,{m:()=>h});var a="Please check this field for errors.",i="error",c="success";function s(e,t){var n=document.getElementById(e+"-live-region");n||(n=function(e){var t=document.createElement("div");return t.setAttribute("role","region"),t.setAttribute("aria-live","polite"),t.setAttribute("id",e+"-live-region"),t.classList.add("usa-sr-only"),document.body.appendChild(t),t}(e)),n.innerHTML=t}function l(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;t?(e.setCustomValidity(""),e.removeAttribute("aria-invalid"),e.classList.remove("usa-input--error")):(e.classList.remove("usa-input--success"),e.setAttribute("aria-invalid","true"),e.setCustomValidity(n),e.classList.add("usa-input--error"))}function u(e,t,n,r){if(e.id||t){var o=document.getElementById((e.id||t)+"--toast");if(n)if(o)o.className="usa-alert usa-alert--".concat(n," usa-alert--slim"),o.querySelector("div p").innerHTML=r,function(e){e.style.position="relative",e.style.left="unset",e.style.visibility="visible"}(o);else{o=document.createElement("div");var a=document.createElement("div"),i=document.createElement("p");o.setAttribute("id",(e.id||t)+"--toast"),o.className="usa-alert usa-alert--".concat(n," usa-alert--slim"),a.classList.add("usa-alert__body"),i.classList.add("usa-alert__text"),i.innerHTML=r,a.appendChild(i),o.appendChild(a),e.parentNode.insertBefore(o,e.nextSibling)}else o&&function(e){e.style.position="absolute",e.style.left="-100vw",e.style.visibility="hidden"}(o)}else console.error("Elements must have an `id` to show an inline toast.")}function d(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/api/v1/",r=new XMLHttpRequest;r.open("GET",n+e),r.send(),r.onload=function(){200==r.status&&t(JSON.parse(r.response))}}("available/?domain=".concat(e.value),(function(t){l(e,t&&t.available,msg=t.message),s(e.id,t.message),ignore_blank=e.classList.contains("blank-ok"),e.validity.valid?(e.classList.add("usa-input--success"),u(e.parentElement,e.id,c,t.message)):ignore_blank&&"required"==t.code?(error="usa-input--error",e.classList.contains(error)&&e.classList.remove(error)):u(e.parentElement,e.id,i,t.message)}))}function m(e){e.classList.remove("usa-input--success"),s(e.id,""),u(e.parentElement,e.id)}function f(e){var t=e.getAttribute("validate")||"";if(t.length){var n,o=r(t.split(" "));try{for(o.s();!(n=o.n()).done;)"domain"===n.value&&d(e)}catch(e){o.e(e)}finally{o.f()}l(e,!0)}}function p(e){!function(e){var t=e.getAttribute("validate")||"";if(t.length){var n,o=r(t.split(" "));try{for(o.s();!(n=o.n()).done;)"domain"===n.value&&m(e)}catch(e){o.e(e)}finally{o.f()}l(e,!0)}}(e.target),e.target.hasAttribute("auto-validate")&&f(e.target)}function b(e){var t=e.target.getAttribute("validate-for")||"";if(t.length){var n=document.getElementById(t);v(n,!0),f(n)}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.getElementById("".concat(e.id,"__error-message"));if(n){n.remove(),e.classList.contains("usa-input--error")&&e.classList.remove("usa-input--error");var o=document.querySelector('label[for="'.concat(e.id,'"]'));if(o){o.classList.remove("usa-label--error");var a=o.parentElement;a&&a.classList.remove("usa-form-group--error")}if(t){var i,c=r(document.querySelectorAll(".usa-alert--error"));try{for(c.s();!(i=c.n()).done;){var s=i.value;s.id!=="".concat(e.id,"--toast")&&s.remove()}}catch(e){c.e(e)}finally{c.f()}}}}function h(){var e,t=r(document.querySelectorAll("[validate]"));try{for(t.s();!(e=t.n()).done;)e.value.addEventListener("input",p)}catch(e){t.e(e)}finally{t.f()}var n,o=document.getElementById("validate-alt-domains-availability"),a=r(document.querySelectorAll("[validate-for]"));try{for(a.s();!(n=a.n()).done;){var i=n.value;i===o?i.addEventListener("click",(function(e){var t,n;t=o,(n=Array.from(document.querySelectorAll(".repeatable-form input"))).forEach((function(e){v(e,!0),f(e)})),n=n.map((function(e){return e.id})).join(", "),t.setAttribute("validate-for",n)})):i.addEventListener("click",b)}}catch(e){a.e(e)}finally{a.f()}}},15:(e,t,n)=>{function r(e,t,n,r,o){var a=document.querySelector("#id_".concat(o,"-TOTAL_FORMS"));e.target.closest(".repeatable-form").remove();var i=document.querySelectorAll(".repeatable-form");a.setAttribute("value","".concat(i.length));var c=RegExp("form-(\\d){1}-","g"),s=RegExp("".concat(t," (\\d+){1}"),"g"),l=RegExp("ns(\\d+){1}","g");i.forEach((function(e,o){Array.from(e.querySelectorAll("label, input, select")).forEach((function(e){Array.from(e.attributes).forEach((function(e){c.test(e.value)&&(e.value=e.value.replace(c,"form-".concat(o,"-")))}))})),Array.from(e.querySelectorAll("h2, legend, label, p")).forEach((function(e){var r=e.querySelector("span");if(r?r.textContent=r.textContent.replace(s,"".concat(t," ").concat(o+1)):(e.textContent=e.textContent.replace(s,"".concat(t," ").concat(o+1)),e.textContent=e.textContent.replace(l,"ns".concat(o+1))),n&&o<=1&&e.innerHTML.includes("server")&&!e.innerHTML.includes("*")){r.textContent=r.textContent.replace(/\s*\(\s*optional\s*\)\s*/,"");var a=document.createElement("abbr");a.textContent="*",a.setAttribute("title","required"),a.classList.add("usa-hint","usa-hint--required"),e.appendChild(a);for(var i=e.nextElementSibling;i;){if("INPUT"===i.tagName){i.setAttribute("required","");break}i=i.nextElementSibling}i.required=!0}})),n&&i.length<=13&&r.removeAttribute("disabled"),n&&i.length<3&&Array.from(e.querySelectorAll(".delete-record")).forEach((function(e){e.setAttribute("disabled","true")}))}))}function o(e,t){if(1==document.querySelectorAll('.repeatable-form:not([style*="display: none"])').length){var n=document.querySelector('input[name="other_contacts-has_other_contacts"][value="False"]');n.checked=!0;var r=new Event("change");n.dispatchEvent(r)}else{var o=e.target.closest(".repeatable-form");if(o){var a=o.querySelector('input[class="deletion"]');a&&(a.value="on")}o.style.display="none"}var i=document.querySelectorAll('.repeatable-form:not([style*="display: none"])'),c=RegExp("".concat(t," (\\d+){1}"),"g");i.forEach((function(e,n){Array.from(e.querySelectorAll("h2")).forEach((function(e){e.textContent=e.textContent.replace(c,"".concat(t," ").concat(n+1))}))}))}function a(){var e="form",t=document.querySelectorAll(".repeatable-form"),n=document.querySelector("#form-container"),a=document.querySelector("#add-form"),i="",c=document.querySelector(".nameservers-form"),s=document.querySelector(".other-contacts-form"),l=document.querySelector(".ds-data-form"),u=document.querySelector(".dotgov-domain-form");c?i="Name server":l?i="DS data record":s?(i="Organization contact",n=document.querySelector("#other-employees"),e="other_contacts"):u&&(e="dotgov_domain");var d=document.querySelector("#id_".concat(e,"-TOTAL_FORMS"));c&&13==document.querySelectorAll(".repeatable-form").length&&a.setAttribute("disabled","true"),document.querySelectorAll('input[type="hidden"].deletion[value="on"]').forEach((function(e){var t=e.closest(".repeatable-form");t&&(t.style.display="none")})),function(e){var t="form",n=document.querySelectorAll(".delete-record"),a=document.querySelector(".nameservers-form"),i=document.querySelector(".other-contacts-form"),c=document.querySelector("#add-form");i&&(t="other_contacts"),n.forEach((function(n){i?n.addEventListener("click",(function(t){o(t,e)})):n.addEventListener("click",(function(n){r(n,e,a,c,t)}))}))}(i),a&&a.addEventListener("click",(function(l){var u=document.querySelectorAll(".repeatable-form"),m=u.length,f=t[0].cloneNode(!0),p=RegExp("".concat(e,"-(\\d){1}-"),"g"),b=RegExp("".concat(i," (\\d){1}"),"g"),v=RegExp("ns(\\d){1}","g");if(c){f.innerHTML.includes("*")&&(f.querySelector("label abbr").remove(),f.querySelectorAll("input").forEach((function(e){e.hasAttribute("required")&&e.removeAttribute("required")})));var h=f.querySelector(".delete-record");h.hasAttribute("disabled")&&h.removeAttribute("disabled")}if(m++,f.innerHTML=f.innerHTML.replace(p,"".concat(e,"-").concat(m-1,"-")),s){var y=document.querySelectorAll('.repeatable-form:not([style*="display: none"])').length;f.innerHTML=f.innerHTML.replace(b,"".concat(i," ").concat(y+1))}else{var g=f.innerHTML.includes("(optional)");f.innerHTML=c&&!g?f.innerHTML.replace(b,"".concat(i," ").concat(m," (optional)")):f.innerHTML.replace(b,"".concat(i," ").concat(m))}f.innerHTML=f.innerHTML.replace(v,"ns".concat(m)),f.innerHTML=f.innerHTML.replace(/\n/g,""),f.innerHTML=f.innerHTML.replace(/>\s*</g,"><"),n.insertBefore(f,a),f.style.display="block",f.querySelectorAll("input").forEach((function(e){e.classList.remove("usa-input--error"),e.classList.remove("usa-input--success"),"text"===e.type||"number"===e.type||"password"===e.type||"email"===e.type||"tel"===e.type?e.value="":"checkbox"!==e.type&&"radio"!==e.type||(e.checked=!1)})),f.querySelectorAll("select").forEach((function(e){e.classList.remove("usa-input--error"),e.classList.remove("usa-input--success"),e.selectedIndex=0})),f.querySelectorAll("label").forEach((function(e){e.classList.remove("usa-label--error"),e.classList.remove("usa-label--success")})),f.querySelectorAll(".usa-form-group").forEach((function(e){e.classList.remove("usa-form-group--error"),e.classList.remove("usa-form-group--success")})),f.querySelectorAll(".usa-error-message, .usa-alert").forEach((function(e){var t=e.closest("div");t&&t.remove()})),d.setAttribute("value","".concat(m));var _=f.querySelector(".delete-record");_&&function(e,t){var n="form",a=document.querySelector(".nameservers-form"),i=document.querySelector(".other-contacts-form"),c=document.querySelector("#add-form");i?(n="other_contacts",e.addEventListener("click",(function(e){o(e,t)}))):e.addEventListener("click",(function(e){r(e,t,a,c,n)}))}(_,i),c&&13==m&&a.setAttribute("disabled","true"),c&&u.length>=2&&u.forEach((function(e,t){Array.from(e.querySelectorAll(".delete-record")).forEach((function(e){e.removeAttribute("disabled")}))}))}))}function i(){if(document.querySelector("#save-ds-data"))var e=0,t=setInterval((function(){++e>100&&clearInterval(t);var n=document.querySelector("#ds-toggle-dnssec-alert");n&&(n.click(),clearInterval(t))}),50)}function c(){if(document.querySelector(".nameservers-form")){var e=document.querySelectorAll(".repeatable-form");e.length<3&&e.forEach((function(e){Array.from(e.querySelectorAll(".delete-record")).forEach((function(e){e.setAttribute("disabled","true")}))}))}}n.d(t,{JT:()=>a,KE:()=>c,uT:()=>i})},774:(e,t,n)=>{function r(){return document.querySelector('input[name="csrfmiddlewaretoken"]').value}n.d(t,{Q:()=>r})},363:(e,t,n)=>{function r(e,t,n){o(e,{True:t,False:n})}function o(e,t){var n=document.querySelectorAll('input[name="'+e+'"]'),r=Object.values(t);function o(){var n=document.querySelector('input[name="'+e+'"]:checked'),o=n?n.value:null;if(r.forEach((function(e){var t=document.getElementById(e);t&&hideElement(t)})),o&&t[o]){var a=document.getElementById(t[o]);a&&showElement(a)}}n.length&&(n.forEach((function(e){e.addEventListener("change",o)})),o())}n.d(t,{C:()=>o,V:()=>r})},399:(e,t,n)=>{function r(){!function e(){window.tooltip&&"function"==typeof window.tooltip.init?window.tooltip.init():setTimeout(e,100)}()}function o(){window.modal.on()}function a(){window.modal.off()}n.d(t,{Pm:()=>r,a8:()=>a,nh:()=>o})},650:(e,t,n)=>{function r(e){e.classList.add("display-none")}function o(e){e.classList.remove("display-none")}function a(e,t){var n=null;if("class"===e)n=document.getElementsByClassName(t)[0];else{if("id"!==e)return void console.error("Error: unknown attribute name provided.");n=document.getElementById(t)}if(n){var r=n.getBoundingClientRect(),o=window.scrollY||document.documentElement.scrollTop;window.scrollTo({top:r.top+o,behavior:"smooth"})}}function i(e){var t=e.querySelector("use");"/public/img/sprite.svg#expand_more"===t.getAttribute("xlink:href")?t.setAttribute("xlink:href","/public/img/sprite.svg#expand_less"):t.setAttribute("xlink:href","/public/img/sprite.svg#expand_more")}n.d(t,{Bt:()=>r,PA:()=>a,YH:()=>i,kl:()=>o})},22:(e,t,n)=>{var r=n(363),o=n(979),a=n(15),i=n(163),c=n(988),s=n(984),l=n(294),u=n(411),d=n(583),m=n(785),f=n(898);(0,o.m)(),(0,a.JT)(),(0,a.uT)(),(0,a.KE)(),(0,r.V)("other_contacts-has_other_contacts","other-employees","no-other-employees"),(0,r.V)("additional_details-has_anything_else_text","anything-else",null),(0,r.C)("member_access_level",{admin:"new-member-admin-permissions",basic:"new-member-basic-permissions"}),(0,r.V)("additional_details-has_cisa_representative","cisa-representative",null),(0,i.f)(),c.n,c.c,s.P,l.l,(0,u.W)(),(0,d.r)(),(0,m.q)(),(0,f.Y)()},294:(e,t,n)=>{n.d(t,{l:()=>o});var r=n(650);function o(){var e,t="portfolio_requesting_entity",n=document.getElementById("id_".concat(t,"-requesting_entity_is_suborganization__fieldset")),o=null==n?void 0:n.querySelectorAll('input[name="'.concat(t,'-requesting_entity_is_suborganization"]')),a=document.getElementById("id_".concat(t,"-sub_organization")),i=document.getElementById("suborganization-container"),c=document.getElementById("suborganization-container__details");if(o&&a&&i&&c){var s="True"===(null===(e=Array.from(o).find((function(e){return e.checked})))||void 0===e?void 0:e.value),l=document.getElementById("id_".concat(t,"-is_requesting_new_suborganization"));a&&!Array.from(a.options).some((function(e){return"other"===e.value}))&&a.add(new Option("Other (enter your organization manually)","other")),"True"===l.value&&(a.value="other"),u(),o.forEach((function(e){e.addEventListener("click",(function(){return u(e)}))})),a.addEventListener("change",(function(){return u()}))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(s=(null==e?void 0:e.checked)&&"True"===e.value),s?(0,r.kl)(i):(0,r.Bt)(i),l.value=s&&"other"===a.value?"True":"False","True"===l.value?(0,r.kl)(c):(0,r.Bt)(c)}}},737:(e,t,n)=>{n.d(t,{S:()=>s});var r=n(650);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function i(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}var s=function(){return e=function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),i(this,"updateDisplay",(function(e,t,n,o){var a=e.unfiltered_total,i=e.total;a?i?((0,r.kl)(t),(0,r.Bt)(o),(0,r.Bt)(n)):((0,r.Bt)(t),(0,r.kl)(o),(0,r.Bt)(n)):((0,r.Bt)(t),(0,r.Bt)(o),(0,r.kl)(n))})),i(this,"unsetHeader",(function(e){e.removeAttribute("aria-sort");var t=e.innerText,n="".concat(t,', sortable column, currently unsorted"');e.setAttribute("aria-label",n),e.querySelector(".usa-table__header__button").setAttribute("title","Click to sort by ascending order.")})),this.tableWrapper=document.getElementById("".concat(t,"__table-wrapper")),this.tableHeaders=document.querySelectorAll("#".concat(t," th[data-sortable]")),this.currentSortBy="id",this.currentOrder="asc",this.currentStatus=[],this.currentSearchTerm="",this.scrollToTable=!1,this.searchInput=document.getElementById("".concat(t,"__search-field")),this.searchSubmit=document.getElementById("".concat(t,"__search-field-submit")),this.tableAnnouncementRegion=document.getElementById("".concat(t,"__usa-table__announcement-region")),this.resetSearchButton=document.getElementById("".concat(t,"__reset-search")),this.resetFiltersButton=document.getElementById("".concat(t,"__reset-filters")),this.statusCheckboxes=document.querySelectorAll(".".concat(t,' input[name="filter-status"]')),this.statusIndicator=document.getElementById("".concat(t,"__filter-indicator")),this.statusToggle=document.getElementById("".concat(t,"__usa-button--filter")),this.noTableWrapper=document.getElementById("".concat(t,"__no-data")),this.noSearchResultsWrapper=document.getElementById("".concat(t,"__no-search-results")),this.portfolioElement=document.getElementById("portfolio-js-value"),this.portfolioValue=this.portfolioElement?this.portfolioElement.getAttribute("data-portfolio"):null,this.initializeTableHeaders(),this.initializeSearchHandler(),this.initializeStatusToggleHandler(),this.initializeFilterCheckboxes(),this.initializeResetSearchButton(),this.initializeResetFiltersButton(),this.initializeAccordionAccessibilityListeners()},t=[{key:"updatePagination",value:function(e,t,n,r,o,a,i,c,s){var l=this,u=document.querySelector("".concat(t," .usa-pagination__list")),d=document.querySelector(n),m=document.querySelector(t);if(d.innerHTML="",u.innerHTML="",u.classList.toggle("display-none",a<=1),m.classList.toggle("display-none",s<1),d.innerHTML="".concat(s," ").concat(e).concat(s>1?"s":"").concat(this.currentSearchTerm?' for "'+this.currentSearchTerm+'"':""),i){var f=document.createElement("li");f.className="usa-pagination__item usa-pagination__arrow",f.innerHTML='\n          <a href="'.concat(r,'" class="usa-pagination__link usa-pagination__previous-page" aria-label="Previous page">\n            <svg class="usa-icon" aria-hidden="true" role="img">\n              <use xlink:href="/public/img/sprite.svg#navigate_before"></use>\n            </svg>\n            <span class="usa-pagination__link-text">Previous</span>\n          </a>\n        '),f.querySelector("a").addEventListener("click",(function(e){e.preventDefault(),l.loadTable(o-1)})),u.appendChild(f)}if(o>2&&(u.appendChild(this.createPageItem(1,r,o)),o>3)){var p=document.createElement("li");p.className="usa-pagination__item usa-pagination__overflow",p.setAttribute("aria-label","ellipsis indicating non-visible pages"),p.innerHTML="<span>â€¦</span>",u.appendChild(p)}for(var b=Math.max(1,o-1);b<=Math.min(a,o+1);b++)u.appendChild(this.createPageItem(b,r,o));if(o<a-1){if(o<a-2){var v=document.createElement("li");v.className="usa-pagination__item usa-pagination__overflow",v.setAttribute("aria-label","ellipsis indicating non-visible pages"),v.innerHTML="<span>â€¦</span>",u.appendChild(v)}u.appendChild(this.createPageItem(a,r,o))}if(c){var h=document.createElement("li");h.className="usa-pagination__item usa-pagination__arrow",h.innerHTML='\n          <a href="'.concat(r,'" class="usa-pagination__link usa-pagination__next-page" aria-label="Next page">\n            <span class="usa-pagination__link-text">Next</span>\n            <svg class="usa-icon" aria-hidden="true" role="img">\n              <use xlink:href="/public/img/sprite.svg#navigate_next"></use>\n            </svg>\n          </a>\n        '),h.querySelector("a").addEventListener("click",(function(e){e.preventDefault(),l.loadTable(o+1)})),u.appendChild(h)}}},{key:"createPageItem",value:function(e,t,n){var r=this,o=document.createElement("li");return o.className="usa-pagination__item usa-pagination__page-no",o.innerHTML='\n        <a href="'.concat(t,'" class="usa-pagination__button" aria-label="Page ').concat(e,'">').concat(e,"</a>\n      "),e===n&&(o.querySelector("a").classList.add("usa-current"),o.querySelector("a").setAttribute("aria-current","page")),o.querySelector("a").addEventListener("click",(function(t){t.preventDefault(),r.loadTable(e)})),o}},{key:"loadTable",value:function(e,t,n){throw new Error("loadData() must be implemented in a subclass")}},{key:"initializeTableHeaders",value:function(){var e=this;this.tableHeaders.forEach((function(t){t.addEventListener("click",(function(){var n=t.getAttribute("data-sortable"),r="asc";n===e.currentSortBy&&(r="asc"===e.currentOrder?"desc":"asc"),e.loadTable(1,n,r)}))}))}},{key:"initializeSearchHandler",value:function(){var e=this;this.searchSubmit.addEventListener("click",(function(t){t.preventDefault(),e.currentSearchTerm=e.searchInput.value,e.currentSearchTerm?(0,r.kl)(e.resetSearchButton):(0,r.Bt)(e.resetSearchButton),e.loadTable(1,"id","asc"),e.resetHeaders()}))}},{key:"initializeStatusToggleHandler",value:function(){var e=this;this.statusToggle&&this.statusToggle.addEventListener("click",(function(){(0,r.YH)(e.statusToggle)}))}},{key:"initializeFilterCheckboxes",value:function(){var e=this;this.statusCheckboxes.forEach((function(t){t.addEventListener("change",(function(){var n=t.value;if(t.checked)e.currentStatus.push(n);else{var o=e.currentStatus.indexOf(n);o>-1&&e.currentStatus.splice(o,1)}0==e.currentStatus.length?(0,r.Bt)(e.resetFiltersButton):(0,r.kl)(e.resetFiltersButton),e.scrollToTable=!1,e.loadTable(1,"id","asc"),e.resetHeaders(),e.updateStatusIndicator()}))}))}},{key:"resetHeaders",value:function(){var e=this;this.tableHeaders.forEach((function(t){e.unsetHeader(t)})),this.tableAnnouncementRegion.innerHTML=""}},{key:"resetSearch",value:function(){this.searchInput.value="",this.currentSearchTerm="",(0,r.Bt)(this.resetSearchButton),this.loadTable(1,"id","asc"),this.resetHeaders()}},{key:"initializeResetSearchButton",value:function(){var e=this;this.resetSearchButton&&this.resetSearchButton.addEventListener("click",(function(){e.resetSearch()}))}},{key:"resetFilters",value:function(){this.currentStatus=[],this.statusCheckboxes.forEach((function(e){e.checked=!1})),(0,r.Bt)(this.resetFiltersButton),this.scrollToTable=!1,this.loadTable(1,"id","asc"),this.resetHeaders(),this.updateStatusIndicator()}},{key:"initializeResetFiltersButton",value:function(){var e=this;this.resetFiltersButton&&this.resetFiltersButton.addEventListener("click",(function(){e.resetFilters()}))}},{key:"updateStatusIndicator",value:function(){this.statusIndicator.innerHTML="",(0,r.Bt)(this.statusIndicator),this.currentStatus.length&&(this.statusIndicator.innerHTML="("+this.currentStatus.length+")"),(0,r.kl)(this.statusIndicator)}},{key:"closeFilters",value:function(){"true"===this.statusToggle.getAttribute("aria-expanded")&&this.statusToggle.click()}},{key:"initializeAccordionAccessibilityListeners",value:function(){var e=this;document.addEventListener("focusin",(function(t){var n=document.querySelector(".usa-accordion--select");document.querySelector('.usa-button--filter[aria-expanded="true"]')&&!n.contains(t.target)&&e.closeFilters()})),document.addEventListener("click",(function(t){var n=document.querySelector(".usa-accordion--select");document.querySelector('.usa-button--filter[aria-expanded="true"]')&&!n.contains(t.target)&&e.closeFilters()}))}}],t&&a(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e;var e,t}()},583:(e,t,n)=>{n.d(t,{r:()=>b});var r=n(650),o=n(399),a=n(774),i=n(737);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,l(r.key),r)}}function l(e){var t=function(e){if("object"!=c(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=c(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==c(t)?t:t+""}function u(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(u=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function m(e,t){return m=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},m(e,t)}var f=function(e){var t=new Date(e),n=t.getUTCFullYear(),r=t.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),o=t.getUTCDate().toString().padStart(2,"0"),a=t.getUTCHours(),i=t.getUTCMinutes().toString().padStart(2,"0"),c=a>=12?"PM":"AM";return a=a%12||12,"".concat(r," ").concat(o,", ").concat(n,", ").concat(a,":").concat(i," ").concat(c," UTC")},p=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=d(t),function(e,t){if(t&&("object"==c(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,u()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}(this,t,["domain-requests"])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(t,e),n=t,i=[{key:"toggleExportButton",value:function(e){var t=document.getElementById("export-csv");t&&(e.length>0?(0,r.kl)(t):(0,r.Bt)(t))}},{key:"loadTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentSortBy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentOrder,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scrollToTable,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.currentStatus,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.currentSearchTerm,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.portfolioValue,u=document.getElementById("get_domain_requests_json_url");if(u){var d=u.innerHTML;if(d){var m=new URLSearchParams({page:e,sort_by:n,order:a,status:c,search_term:s});l&&m.append("portfolio",l);var p="".concat(d,"?").concat(m.toString());fetch(p).then((function(e){return e.json()})).then((function(e){if(e.error)console.error("Error in AJAX call: "+e.error);else{t.toggleExportButton(e.domain_requests),t.updateDisplay(e,t.tableWrapper,t.noTableWrapper,t.noSearchResultsWrapper,t.currentSearchTerm);var c,l=document.querySelector("#domain-requests tbody");l.innerHTML="",document.querySelectorAll('[data-placeholder-for^="toggle-delete-domain-alert"]').forEach((function(e){e.remove()})),(0,o.a8)(),c=e.domain_requests.some((function(e){return e.is_deletable}));var u=document.querySelector(".delete-header");if(c){if(!u){var d=document.createElement("th");d.setAttribute("scope","col"),d.setAttribute("role","columnheader"),d.setAttribute("class","delete-header"),d.innerHTML='\n                <span class="usa-sr-only">Delete Action</span>',document.querySelector("#domain-requests thead tr").appendChild(d)}}else u&&u.remove();e.domain_requests.forEach((function(e){var n=e.requested_domain?e.requested_domain:'New domain request <br><span class="text-base font-body-xs">('.concat(f(e.created_at),")</span>"),r=e.action_url,o=e.action_label,a=e.last_submitted_date?new Date(e.last_submitted_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):'<span class="text-base">Not submitted</span>',i='\n            <span class="usa-sr-only">Domain request cannot be deleted now. Edit the request for more information.</span>',s="";if(t.portfolioValue&&(s='\n                <td>\n                    <span class="text-wrap break-word">'.concat(e.creator?e.creator:"","</span>\n                </td>\n              ")),e.is_deletable){var u="",d="";e.requested_domain?(u="Are you sure you want to delete ".concat(e.requested_domain,"?"),d="This will remove the domain request from the .gov registrar. This action cannot be undone."):e.created_at?(u="Are you sure you want to delete this domain request?",d="This will remove the domain request (created ".concat(f(e.created_at),") from the .gov registrar. This action cannot be undone")):(u="Are you sure you want to delete New domain request?",d="This will remove the domain request from the .gov registrar. This action cannot be undone."),i='\n                <a \n                  role="button" \n                  id="button-toggle-delete-domain-alert-'.concat(e.id,'"\n                  href="#toggle-delete-domain-alert-').concat(e.id,'"\n                  class="usa-button text-secondary usa-button--unstyled text-no-underline late-loading-modal-trigger line-height-sans-5"\n                  aria-controls="toggle-delete-domain-alert-').concat(e.id,'"\n                  data-open-modal\n                >\n                  <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                    <use xlink:href="/public/img/sprite.svg#delete"></use>\n                  </svg> Delete <span class="usa-sr-only">').concat(n,"</span>\n                </a>");var m='\n                <button type="button"\n                class="usa-button usa-button--secondary usa-modal__submit"\n                data-pk = '.concat(e.id,'\n                name="delete-domain-request">Yes, delete request</button>\n              '),p=document.createElement("div");p.setAttribute("class","usa-modal"),p.setAttribute("id","toggle-delete-domain-alert-".concat(e.id)),p.setAttribute("aria-labelledby","Are you sure you want to continue?"),p.setAttribute("aria-describedby","Domain will be removed"),p.setAttribute("data-force-action",""),p.innerHTML='\n                <div class="usa-modal__content">\n                  <div class="usa-modal__main">\n                    <h2 class="usa-modal__heading" id="modal-1-heading">\n                      '.concat(u,'\n                    </h2>\n                    <div class="usa-prose">\n                      <p id="modal-1-description">\n                        ').concat(d,'\n                      </p>\n                    </div>\n                    <div class="usa-modal__footer">\n                        <ul class="usa-button-group">\n                          <li class="usa-button-group__item">\n                            ').concat(m,'\n                          </li>      \n                          <li class="usa-button-group__item">\n                              <button\n                                  type="button"\n                                  class="usa-button usa-button--unstyled padding-105 text-center"\n                                  data-close-modal\n                              >\n                                  Cancel\n                              </button>\n                          </li>\n                        </ul>\n                    </div>\n                  </div>\n                  <button\n                    type="button"\n                    class="usa-button usa-modal__close"\n                    aria-label="Close this window"\n                    data-close-modal\n                  >\n                    <svg class="usa-icon" aria-hidden="true" focusable="false" role="img">\n                      <use xlink:href="/public/img/sprite.svg#close"></use>\n                    </svg>\n                  </button>\n                </div>\n                '),t.tableWrapper.appendChild(p),t.portfolioValue&&(i='\n                <a \n                  role="button" \n                  id="button-toggle-delete-domain-alert-'.concat(e.id,'"\n                  href="#toggle-delete-domain-alert-').concat(e.id,'"\n                  class="usa-button text-secondary usa-button--unstyled text-no-underline late-loading-modal-trigger margin-top-2 visible-mobile-flex line-height-sans-5"\n                  aria-controls="toggle-delete-domain-alert-').concat(e.id,'"\n                  data-open-modal\n                >\n                  <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                    <use xlink:href="/public/img/sprite.svg#delete"></use>\n                  </svg> Delete <span class="usa-sr-only">').concat(n,'</span>\n                </a>\n  \n                <div class="usa-accordion usa-accordion--more-actions margin-right-2 hidden-mobile-flex">\n                  <div class="usa-accordion__heading">\n                    <button\n                      type="button"\n                      class="usa-button usa-button--unstyled usa-button--with-icon usa-accordion__button usa-button--more-actions"\n                      aria-expanded="false"\n                      aria-controls="more-actions-').concat(e.id,'"\n                    >\n                      <svg class="usa-icon top-2px" aria-hidden="true" focusable="false" role="img" width="24">\n                        <use xlink:href="/public/img/sprite.svg#more_vert"></use>\n                      </svg>\n                    </button>\n                  </div>\n                  <div id="more-actions-').concat(e.id,'" class="usa-accordion__content usa-prose shadow-1 left-auto right-0" hidden>\n                    <h2>More options</h2>\n                    <a \n                      role="button" \n                      id="button-toggle-delete-domain-alert-').concat(e.id,'"\n                      href="#toggle-delete-domain-alert-').concat(e.id,'"\n                      class="usa-button text-secondary usa-button--unstyled text-no-underline late-loading-modal-trigger margin-top-2 line-height-sans-5"\n                      aria-controls="toggle-delete-domain-alert-').concat(e.id,'"\n                      data-open-modal\n                    >\n                      <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                        <use xlink:href="/public/img/sprite.svg#delete"></use>\n                      </svg> Delete <span class="usa-sr-only">').concat(n,"</span>\n                    </a>\n                  </div>\n                </div>\n                "))}var b=document.createElement("tr");b.innerHTML='\n              <th scope="row" role="rowheader" data-label="Domain name">\n                '.concat(n,'\n              </th>\n              <td data-sort-value="').concat(new Date(e.last_submitted_date).getTime(),'" data-label="Date submitted">\n                ').concat(a,"\n              </td>\n              ").concat(s,'\n              <td data-label="Status">\n                ').concat(e.status,'\n              </td>\n              <td>\n                <a href="').concat(r,'">\n                  <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                    <use xlink:href="/public/img/sprite.svg#').concat(e.svg_icon,'"></use>\n                  </svg>\n                  ').concat(o,' <span class="usa-sr-only">').concat(e.requested_domain?e.requested_domain:"New domain request","</span>\n                </a>\n              </td>\n              ").concat(c?"<td>"+i+"</td>":"","\n            "),l.appendChild(b)})),(0,o.nh)(),document.querySelectorAll(".usa-modal__content").forEach((function(n){var r=n.querySelector(".usa-modal__submit"),o=n.querySelector(".usa-modal__close");r.addEventListener("click",(function(){var n=r.getAttribute("data-pk");o.click();var a=e.page;1==e.total&&e.unfiltered_total>1&&a--,t.deleteDomainRequest(n,a)}))})),i&&(0,r.PA)("class","domain-requests"),t.scrollToTable=!0,t.updatePagination("domain request","#domain-requests-pagination","#domain-requests-pagination .usa-pagination__counter","#domain-requests",e.page,e.num_pages,e.has_previous,e.has_next,e.total),t.currentSortBy=n,t.currentOrder=a,t.currentSearchTerm=s}})).catch((function(e){return console.error("Error fetching domain requests:",e)}))}}}},{key:"deleteDomainRequest",value:function(e,t){var n=this,r=(0,a.Q)(),o="csrfmiddlewaretoken=".concat(encodeURIComponent(r),"&delete-domain-request=");fetch("/domain-request/".concat(e,"/delete"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRFToken":r},body:o}).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));n.loadTable(t,n.currentSortBy,n.currentOrder,n.scrollToTable,n.currentSearchTerm)})).catch((function(e){return console.error("Error fetching domain requests:",e)}))}}],i&&s(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(i.S);function b(){document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("domain-requests")){var e=new p;e.tableWrapper&&e.loadTable(1)}function t(e){document.querySelectorAll('.usa-button--more-actions[aria-expanded="true"]').forEach((function(t){var n,r=t.closest(".usa-accordion--more-actions");r&&!r.contains(e.target)&&"true"===(n=t).getAttribute("aria-expanded")&&n.click()}))}document.addEventListener("focusin",(function(e){t(e)})),document.addEventListener("click",(function(e){t(e)}))}))}},411:(e,t,n)=>{n.d(t,{W:()=>m});var r=n(650),o=n(399);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function c(e){var t=function(e){if("object"!=a(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=a(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==a(t)?t:t+""}function s(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(s=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}var d=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=l(t),function(e,t){if(t&&("object"==a(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,s()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}(this,t,["domains"])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),n=t,c=[{key:"loadTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentSortBy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentOrder,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scrollToTable,c=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.currentStatus,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.currentSearchTerm,l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.portfolioValue,u=document.getElementById("get_domains_json_url");if(u){var d=u.innerHTML;if(d){var m=new URLSearchParams({page:e,sort_by:n,order:a,status:c,search_term:s});l&&m.append("portfolio",l);var f="".concat(d,"?").concat(m.toString());fetch(f).then((function(e){return e.json()})).then((function(e){if(e.error)console.error("Error in AJAX call: "+e.error);else{t.updateDisplay(e,t.tableWrapper,t.noTableWrapper,t.noSearchResultsWrapper,t.currentSearchTerm);var c=document.querySelector("#domains tbody");c.innerHTML="",e.domains.forEach((function(e){var n=e.expiration_date?new Date(e.expiration_date):null,r=n?n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",o=n?n.getTime():"",a=e.action_url,i=e.domain_info__sub_organization?e.domain_info__sub_organization:"âŽ¯",s=document.createElement("tr"),l="";t.portfolioValue&&(l='\n                  <td>\n                      <span class="text-wrap" aria-label="'.concat(e.suborganization?i:"No suborganization",'">').concat(i,"</span>\n                  </td>\n                ")),s.innerHTML='\n                <th scope="row" role="rowheader" data-label="Domain name">\n                  '.concat(e.name,'\n                </th>\n                <td data-sort-value="').concat(o,'" data-label="Expires">\n                  ').concat(r,'\n                </td>\n                <td data-label="Status">\n                  ').concat(e.state_display,'\n                  <svg \n                    class="usa-icon usa-tooltip usa-tooltip--registrar text-middle margin-bottom-05 text-accent-cool no-click-outline-and-cursor-help" \n                    data-position="top"\n                    title="').concat(e.get_state_help_text,'"\n                    focusable="true"\n                    aria-label="').concat(e.get_state_help_text,'"\n                    role="tooltip"\n                  >\n                    <use aria-hidden="true" xlink:href="/public/img/sprite.svg#info_outline"></use>\n                  </svg>\n                </td>\n                ').concat(l,'\n                <td>\n                  <a href="').concat(a,'">\n                    <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                      <use xlink:href="/public/img/sprite.svg#').concat(e.svg_icon,'"></use>\n                    </svg>\n                    ').concat(e.action_label,' <span class="usa-sr-only">').concat(e.name,"</span>\n                  </a>\n                </td>\n              "),c.appendChild(s)})),(0,o.Pm)(),i&&(0,r.PA)("class","domains"),t.scrollToTable=!0,t.updatePagination("domain","#domains-pagination","#domains-pagination .usa-pagination__counter","#domains",e.page,e.num_pages,e.has_previous,e.has_next,e.total),t.currentSortBy=n,t.currentOrder=a,t.currentSearchTerm=s}})).catch((function(e){return console.error("Error fetching domains:",e)}))}}}}],c&&i(n.prototype,c),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,c}(n(737).S);function m(){document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("domains")){var e=new d;e.tableWrapper&&e.loadTable(1)}}))}},898:(e,t,n)=>{n.d(t,{Y:()=>d});var r=n(650);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=function(e,t,n){return t=s(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}(this,t,["member-domains"])).currentSortBy="name",e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),n=t,i=[{key:"loadTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentSortBy,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentOrder,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scrollToTable,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.currentSearchTerm,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.portfolioValue,s=new URLSearchParams({page:e,sort_by:n,order:o,search_term:i}),l=this.portfolioElement?this.portfolioElement.getAttribute("data-email"):null,u=this.portfolioElement?this.portfolioElement.getAttribute("data-member-id"):null,d=this.portfolioElement?this.portfolioElement.getAttribute("data-member-only"):null;c&&s.append("portfolio",c),l&&s.append("email",l),u&&s.append("member_id",u),d&&s.append("member_only",d);var m=document.getElementById("get_member_domains_json_url");if(m){var f=m.innerHTML;if(f){var p="".concat(f,"?").concat(s.toString());fetch(p).then((function(e){return e.json()})).then((function(e){if(e.error)console.error("Error in AJAX call: "+e.error);else{t.updateDisplay(e,t.tableWrapper,t.noTableWrapper,t.noSearchResultsWrapper,t.currentSearchTerm);var c=document.querySelector("#member-domains tbody");c.innerHTML="",e.domains.forEach((function(e){var t=document.createElement("tr");t.innerHTML='\n                <td scope="row" data-label="Domain name">\n                  '.concat(e.name,"\n                </td>\n              "),c.appendChild(t)})),a&&(0,r.PA)("class","member-domains"),t.scrollToTable=!0,t.updatePagination("member domain","#member-domains-pagination","#member-domains-pagination .usa-pagination__counter","#member-domains",e.page,e.num_pages,e.has_previous,e.has_next,e.total),t.currentSortBy=n,t.currentOrder=o,t.currentSearchTerm=i}})).catch((function(e){return console.error("Error fetching domains:",e)}))}}}}],i&&a(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(n(737).S);function d(){document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("member-domains")){var e=new u;e.tableWrapper&&e.loadTable(1)}}))}},785:(e,t,n)=>{n.d(t,{q:()=>d});var r=n(650);function o(e){return o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o(e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,i(r.key),r)}}function i(e){var t=function(e){if("object"!=o(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=o(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==o(t)?t:t+""}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){return l=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},l(e,t)}var u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){return t=s(t),function(e,t){if(t&&("object"==o(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}(this,t,["members"])}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&l(e,t)}(t,e),n=t,i=[{key:"initShowMoreButtons",value:function(){document.querySelectorAll(".usa-button--show-more-button").forEach((function(e){var t=e.dataset.for,n=document.getElementById(t),o=e.parentElement.parentElement;n&&"tr"===n.tagName.toLowerCase()&&n.classList.contains("show-more-content")&&o&&"tr"===o.tagName.toLowerCase()?e.addEventListener("click",(function(){!function(e,t,n){var o=e.querySelector("span"),a=e.querySelector("use");t.classList.contains("display-none")?((0,r.kl)(t),o.textContent="Close",a.setAttribute("xlink:href","/public/img/sprite.svg#expand_less"),n.classList.add("hide-td-borders"),e.setAttribute("aria-label","Close additional information")):((0,r.Bt)(t),o.textContent="Expand",a.setAttribute("xlink:href","/public/img/sprite.svg#expand_more"),n.classList.remove("hide-td-borders"),e.setAttribute("aria-label","Expand for additional information"))}(e,n,o)})):console.warn("Found a toggle button with no associated toggleable content or parent row")}))}},{key:"handleLastActive",value:function(e){var t="Invited",n="Invalid date",r=n,o=-1;if(e===t)r=t,o=0;else if(e&&e!==n){var a=new Date(e);isNaN(a.getTime())?console.error("Error: Invalid date string provided: ".concat(e)):(r=a.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),o=a.getTime())}return{display_value:r,sort_value:o}}},{key:"generateDomainsHTML",value:function(e,t,n,r){var o="";if(e>0){o+="<div class='desktop:grid-col-5 margin-bottom-2 desktop:margin-bottom-0'>",o+="<h4 class='margin-y-0 text-primary'>Domains assigned</h4>",o+="<p class='margin-y-0'>This member is assigned to ".concat(e," domains:</p>"),o+="<ul class='usa-list usa-list--unstyled margin-y-0'>";for(var a=0;a<e&&a<6;a++)o+='<li><a href="'.concat(n[a],'">').concat(t[a],"</a></li>");o+="</ul>",e>=6&&(o+='<p><a href="'.concat(r,'/domains">View assigned domains</a></p>')),o+="</div>"}return o}},{key:"generatePermissionsHTML",value:function(e,t){var n="";return e.includes(t.VIEW_ALL_DOMAINS)?n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Domains:</strong> Can view all organization domains. Can manage domains they are assigned to and edit information about the domain (including DNS settings).</p>":e.includes(t.VIEW_MANAGED_DOMAINS)&&(n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Domains:</strong> Can manage domains they are assigned to and edit information about the domain (including DNS settings).</p>"),e.includes(t.EDIT_REQUESTS)?n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Domain requests:</strong> Can view all organization domain requests. Can create domain requests and modify their own requests.</p>":e.includes(t.VIEW_ALL_REQUESTS)&&(n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Domain requests (view-only):</strong> Can view all organization domain requests. Can't create or modify any domain requests.</p>"),e.includes(t.EDIT_MEMBERS)?n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Members:</strong> Can manage members including inviting new members, removing current members, and assigning domains to members.</p>":e.includes(t.VIEW_MEMBERS)&&(n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Members (view-only):</strong> Can view all organizational members. Can't manage any members.</p>"),n||(n+="<p class='margin-top-1 p--blockquote'><b>No additional permissions:</b> There are no additional permissions for this member.</p>"),"<div class='desktop:grid-col-7'><h4 class='margin-y-0 text-primary'>Additional permissions for this member</h4>"+n+"</div>"}},{key:"loadTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentSortBy,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentOrder,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scrollToTable,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.currentSearchTerm,c=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.portfolioValue,s=new URLSearchParams({page:e,sort_by:n,order:o,search_term:i});c&&s.append("portfolio",c);var l=document.getElementById("get_members_json_url");if(l){var u=l.innerHTML;if(u){var d="".concat(u,"?").concat(s.toString());fetch(d).then((function(e){return e.json()})).then((function(e){if(e.error)console.error("Error in AJAX call: "+e.error);else{t.updateDisplay(e,t.tableWrapper,t.noTableWrapper,t.noSearchResultsWrapper,t.currentSearchTerm);var c=document.querySelector("#members tbody");c.innerHTML="";var s=e.UserPortfolioPermissionChoices;e.members.forEach((function(e){var n=e.source+e.id,r=e.name,o=e.member_display,a=e.permissions,i=e.domain_urls,l=e.domain_names,u=i.length,d=t.handleLastActive(e.last_active),m=e.action_url,f=e.action_label,p=e.svg_icon,b=document.createElement("tr"),v="";e.is_admin&&(v='<span class="usa-tag margin-left-1 bg-primary">Admin</span>');var h=t.generateDomainsHTML(u,l,i,m),y=t.generatePermissionsHTML(a,s),g="",_=document.createElement("tr");(h||y)&&(g='\n                  <button \n                    type="button" \n                    class="usa-button--show-more-button usa-button usa-button--unstyled display-block margin-top-1" \n                    data-for='.concat(n,'\n                    aria-label="Expand for additional information"\n                  >\n                    <span>Expand</span>\n                    <svg class="usa-icon usa-icon--big" aria-hidden="true" focusable="false" role="img" width="24">\n                      <use xlink:href="/public/img/sprite.svg#expand_more"></use>\n                    </svg>\n                  </button>\n                '),_.innerHTML="<td colspan='3' headers=\"header-member row-header-".concat(n,'" class="padding-top-0"><div class=\'grid-row\'>').concat(h," ").concat(y,"</div></td>"),_.classList.add("show-more-content"),_.classList.add("display-none"),_.id=n),b.innerHTML='\n                <th role="rowheader" headers="header-member" data-label="member email" id=\'row-header-'.concat(n,"'>\n                  ").concat(o," ").concat(v," ").concat(g,'\n                </th>\n                <td headers="header-last-active row-header-').concat(n,'" data-sort-value="').concat(d.sort_value,'" data-label="last_active">\n                  ').concat(d.display_value,'\n                </td>\n                <td headers="header-action row-header-').concat(n,'">\n                  <a href="').concat(m,'">\n                    <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                      <use xlink:href="/public/img/sprite.svg#').concat(p,'"></use>\n                    </svg>\n                    ').concat(f,' <span class="usa-sr-only">').concat(r,"</span>\n                  </a>\n                </td>\n              "),c.appendChild(b),(h||y)&&c.appendChild(_)})),t.initShowMoreButtons(),a&&(0,r.PA)("class","members"),t.scrollToTable=!0,t.updatePagination("member","#members-pagination","#members-pagination .usa-pagination__counter","#members",e.page,e.num_pages,e.has_previous,e.has_next,e.total),t.currentSortBy=n,t.currentOrder=o,t.currentSearchTerm=i}})).catch((function(e){return console.error("Error fetching members:",e)}))}}}}],i&&a(n.prototype,i),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,i}(n(737).S);function d(){document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("members")){var e=new u;e.tableWrapper&&e.loadTable(1)}}))}},163:(e,t,n)=>{function r(){document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector('select[name="organization_contact-state_territory"]');e&&function(e){var t=document.getElementById("urbanization-field");function n(){"PR"===e.value?t.style.display="block":t.style.display="none"}n(),e.addEventListener("change",n)}(e)}))}n.d(t,{f:()=>r})},988:(e,t,n)=>{function r(){var e=document.querySelector(".show-confirmation-modal");e&&e.click()}function o(){function e(e){return document.querySelector("#id_".concat(e))}document.querySelectorAll('[id$="__edit-button"]').forEach((function(t){var n=t.id.split("__");if(n&&n.length>0){var r=n[0];!function(t,n){n.addEventListener("click",(function(){n.disabled=!0,"full_name"==t?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full_name",n=document.querySelector("#profile-name-group");n&&n.classList.remove("display-none");var r=e(t);r&&(inputFieldParentDiv=r.closest("div"),inputFieldParentDiv&&inputFieldParentDiv.classList.add("display-none"))}():function(t,n){var r=e(t);document.querySelector("#".concat(t,"__edit-button-readonly")).classList.toggle("display-none"),r.classList.toggle("display-none");var o=n.closest(".grid-col-2").closest(".grid-row");o&&o.classList.toggle("bold-usa-label")}(t,n),n.classList.add("display-none"),n.disabled=!1}))}(r,t);var o=t.parentElement.parentElement.parentElement;if(o){var a=o.querySelector(".toggleable_input__readonly-field"),i=document.getElementById("id_".concat(r));if(!i||!a)return;var c=i.value;if(c||"full_name"==r)if("full_name"==r){var s=document.querySelector("#id_first_name"),l=document.querySelector("#id_middle_name"),u=document.querySelector("#id_last_name");if(s&&u&&s.value&&u.value){var d=[s.value,l.value,u.value];a.innerHTML=d.join(" ")}else{var m=document.querySelector("#full_name__edit-button-readonly"),f=m.querySelector("svg use");if(f){var p=f.getAttribute("xlink:href");if(p){var b=p.split("#");if(2===b.length){var v=b[0]+"#error";f.setAttribute("xlink:href",v),m.classList.add("toggleable_input__error"),label=m.querySelector(".toggleable_input__readonly-field"),label.innerHTML="Unknown"}}}}a.classList.contains("text-base")&&a.classList.remove("text-base")}else a.innerHTML=c}}})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#finish-profile-setup-form"),t=e?e.querySelectorAll("input"):null;if(!t)return null;var n=!1;t.forEach((function(e){var t=e.name,r=document.querySelector("#id_".concat(t,"__error-message"));if(!t||!r)return null;var o=document.querySelector("#".concat(t,"__edit-button"));o&&o.click(),["first_name","middle_name","last_name"].includes(t)&&!n&&(fullNameButton=document.querySelector("#full_name__edit-button"),fullNameButton&&(fullNameButton.click(),n=!0))}))}))}n.d(t,{c:()=>o,n:()=>r})}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(984),n(979),n(15),n(774),n(363),n(399),n(650),n(22),n(294),n(737),n(583),n(411),n(898),n(785),n(163),n(988)})();