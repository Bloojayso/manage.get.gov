(()=>{"use strict";var e={635:(e,t,n)=>{function a(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,o=function(){};return{s:o,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,s=!0,l=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return s=e.done,e},e:function(e){l=!0,i=e},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw i}}}}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=Array(t);n<t;n++)a[n]=e[n];return a}n.d(t,{m:()=>g});var o="Please check this field for errors.",i="error",s="success";function l(e,t){var n=document.getElementById(e+"-live-region");n||(n=function(e){var t=document.createElement("div");return t.setAttribute("role","region"),t.setAttribute("aria-live","polite"),t.setAttribute("id",e+"-live-region"),t.classList.add("usa-sr-only"),document.body.appendChild(t),t}(e)),n.innerHTML=t}function c(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:o;t?(e.setCustomValidity(""),e.removeAttribute("aria-invalid"),e.classList.remove("usa-input--error")):(e.classList.remove("usa-input--success"),e.setAttribute("aria-invalid","true"),e.setCustomValidity(n),e.classList.add("usa-input--error"))}function u(e,t,n,a){if(e.id||t){var r=document.getElementById((e.id||t)+"--toast");if(n)if(r)r.className="usa-alert usa-alert--".concat(n," usa-alert--slim"),r.querySelector("div p").innerHTML=a,function(e){e.style.position="relative",e.style.left="unset",e.style.visibility="visible"}(r);else{r=document.createElement("div");var o=document.createElement("div"),i=document.createElement("p");r.setAttribute("id",(e.id||t)+"--toast"),r.className="usa-alert usa-alert--".concat(n," usa-alert--slim"),o.classList.add("usa-alert__body"),i.classList.add("usa-alert__text"),i.innerHTML=a,o.appendChild(i),r.appendChild(o),e.parentNode.insertBefore(r,e.nextSibling)}else r&&function(e){e.style.position="absolute",e.style.left="-100vw",e.style.visibility="hidden"}(r)}else console.error("Elements must have an `id` to show an inline toast.")}function d(e){!function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/api/v1/",a=new XMLHttpRequest;a.open("GET",n+e),a.send(),a.onload=function(){200==a.status&&t(JSON.parse(a.response))}}("available/?domain=".concat(e.value),(function(t){c(e,t&&t.available,msg=t.message),l(e.id,t.message),ignore_blank=e.classList.contains("blank-ok"),e.validity.valid?(e.classList.add("usa-input--success"),u(e.parentElement,e.id,s,t.message)):ignore_blank&&"required"==t.code?(error="usa-input--error",e.classList.contains(error)&&e.classList.remove(error)):u(e.parentElement,e.id,i,t.message)}))}function m(e){e.classList.remove("usa-input--success"),l(e.id,""),u(e.parentElement,e.id)}function f(e){var t=e.getAttribute("validate")||"";if(t.length){var n,r=a(t.split(" "));try{for(r.s();!(n=r.n()).done;)"domain"===n.value&&d(e)}catch(e){r.e(e)}finally{r.f()}c(e,!0)}}function p(e){!function(e){var t=e.getAttribute("validate")||"";if(t.length){var n,r=a(t.split(" "));try{for(r.s();!(n=r.n()).done;)"domain"===n.value&&m(e)}catch(e){r.e(e)}finally{r.f()}c(e,!0)}}(e.target),e.target.hasAttribute("auto-validate")&&f(e.target)}function h(e){var t=e.target.getAttribute("validate-for")||"";if(t.length){var n=document.getElementById(t);v(n,!0),f(n)}}function v(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=document.getElementById("".concat(e.id,"__error-message"));if(n){n.remove(),e.classList.contains("usa-input--error")&&e.classList.remove("usa-input--error");var r=document.querySelector('label[for="'.concat(e.id,'"]'));if(r){r.classList.remove("usa-label--error");var o=r.parentElement;o&&o.classList.remove("usa-form-group--error")}if(t){var i,s=a(document.querySelectorAll(".usa-alert--error"));try{for(s.s();!(i=s.n()).done;){var l=i.value;l.id!=="".concat(e.id,"--toast")&&l.remove()}}catch(e){s.e(e)}finally{s.f()}}}}function g(){var e,t=a(document.querySelectorAll("[validate]"));try{for(t.s();!(e=t.n()).done;)e.value.addEventListener("input",p)}catch(e){t.e(e)}finally{t.f()}var n,r=document.getElementById("validate-alt-domains-availability"),o=a(document.querySelectorAll("[validate-for]"));try{for(o.s();!(n=o.n()).done;){var i=n.value;i===r?i.addEventListener("click",(function(e){var t,n;t=r,(n=Array.from(document.querySelectorAll(".repeatable-form input"))).forEach((function(e){v(e,!0),f(e)})),n=n.map((function(e){return e.id})).join(", "),t.setAttribute("validate-for",n)})):i.addEventListener("click",h)}}catch(e){o.e(e)}finally{o.f()}}},686:(e,t,n)=>{},790:(e,t,n)=>{var a=n(178);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function o(e,t,n){return t=s(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,i()?Reflect.construct(t,n||[],s(e).constructor):t.apply(e,n))}function i(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(i=function(){return!!e})()}function s(e){return s=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},s(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c(e,t)}function c(e,t){return c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},c(e,t)}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,p(a.key),a)}}function m(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function f(e,t,n){return(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e){var t=function(e){if("object"!=r(e)||!e)return e;var t=e[Symbol.toPrimitive];if(void 0!==t){var n=t.call(e,"string");if("object"!=r(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==r(t)?t:t+""}function h(e,t){var n=null;if("class"===e)n=document.getElementsByClassName(t)[0];else{if("id"!==e)return void console.error("Error: unknown attribute name provided.");n=document.getElementById(t)}if(n){var a=n.getBoundingClientRect(),r=window.scrollY||document.documentElement.scrollTop;window.scrollTo({top:a.top+r,behavior:"smooth"})}}function v(e,t,n){g(e,{True:t,False:n})}function g(e,t){var n=document.querySelectorAll('input[name="'+e+'"]'),r=Object.values(t);function o(){var n=document.querySelector('input[name="'+e+'"]:checked'),o=n?n.value:null;if(r.forEach((function(e){var t=document.getElementById(e);t&&(0,a.Bt)(t)})),o&&t[o]){var i=document.getElementById(t[o]);i&&(0,a.kl)(i)}}n.length&&(n.forEach((function(e){e.addEventListener("change",o)})),o())}function b(e,t,n,a,r){var o=document.querySelector("#id_".concat(r,"-TOTAL_FORMS"));e.target.closest(".repeatable-form").remove();var i=document.querySelectorAll(".repeatable-form");o.setAttribute("value","".concat(i.length));var s=RegExp("form-(\\d){1}-","g"),l=RegExp("".concat(t," (\\d+){1}"),"g"),c=RegExp("ns(\\d+){1}","g");i.forEach((function(e,r){Array.from(e.querySelectorAll("label, input, select")).forEach((function(e){Array.from(e.attributes).forEach((function(e){s.test(e.value)&&(e.value=e.value.replace(s,"form-".concat(r,"-")))}))})),Array.from(e.querySelectorAll("h2, legend, label, p")).forEach((function(e){var a=e.querySelector("span");if(a?a.textContent=a.textContent.replace(l,"".concat(t," ").concat(r+1)):(e.textContent=e.textContent.replace(l,"".concat(t," ").concat(r+1)),e.textContent=e.textContent.replace(c,"ns".concat(r+1))),n&&r<=1&&e.innerHTML.includes("server")&&!e.innerHTML.includes("*")){a.textContent=a.textContent.replace(/\s*\(\s*optional\s*\)\s*/,"");var o=document.createElement("abbr");o.textContent="*",o.setAttribute("title","required"),o.classList.add("usa-hint","usa-hint--required"),e.appendChild(o);for(var i=e.nextElementSibling;i;){if("INPUT"===i.tagName){i.setAttribute("required","");break}i=i.nextElementSibling}i.required=!0}})),n&&i.length<=13&&a.removeAttribute("disabled"),n&&i.length<3&&Array.from(e.querySelectorAll(".delete-record")).forEach((function(e){e.setAttribute("disabled","true")}))}))}function y(e,t){if(1==document.querySelectorAll('.repeatable-form:not([style*="display: none"])').length){var n=document.querySelector('input[name="other_contacts-has_other_contacts"][value="False"]');n.checked=!0;var a=new Event("change");n.dispatchEvent(a)}else{var r=e.target.closest(".repeatable-form");if(r){var o=r.querySelector('input[class="deletion"]');o&&(o.value="on")}r.style.display="none"}var i=document.querySelectorAll('.repeatable-form:not([style*="display: none"])'),s=RegExp("".concat(t," (\\d+){1}"),"g");i.forEach((function(e,n){Array.from(e.querySelectorAll("h2")).forEach((function(e){e.textContent=e.textContent.replace(s,"".concat(t," ").concat(n+1))}))}))}(0,n(635).m)(),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector('select[name="organization_contact-state_territory"]');e&&function(e){var t=document.getElementById("urbanization-field");function n(){"PR"===e.value?t.style.display="block":t.style.display="none"}n(),e.addEventListener("change",n)}(e)})),function(){var e="form",t=document.querySelectorAll(".repeatable-form"),n=document.querySelector("#form-container"),a=document.querySelector("#add-form"),r="",o=document.querySelector(".nameservers-form"),i=document.querySelector(".other-contacts-form"),s=document.querySelector(".ds-data-form"),l=document.querySelector(".dotgov-domain-form");o?r="Name server":s?r="DS data record":i?(r="Organization contact",n=document.querySelector("#other-employees"),e="other_contacts"):l&&(e="dotgov_domain");var c=document.querySelector("#id_".concat(e,"-TOTAL_FORMS"));o&&13==document.querySelectorAll(".repeatable-form").length&&a.setAttribute("disabled","true"),document.querySelectorAll('input[type="hidden"].deletion[value="on"]').forEach((function(e){var t=e.closest(".repeatable-form");t&&(t.style.display="none")})),function(e){var t="form",n=document.querySelectorAll(".delete-record"),a=document.querySelector(".nameservers-form"),r=document.querySelector(".other-contacts-form"),o=document.querySelector("#add-form");r&&(t="other_contacts"),n.forEach((function(n){r?n.addEventListener("click",(function(t){y(t,e)})):n.addEventListener("click",(function(n){b(n,e,a,o,t)}))}))}(r),a&&a.addEventListener("click",(function(s){var l=document.querySelectorAll(".repeatable-form"),u=l.length,d=t[0].cloneNode(!0),m=RegExp("".concat(e,"-(\\d){1}-"),"g"),f=RegExp("".concat(r," (\\d){1}"),"g"),p=RegExp("ns(\\d){1}","g");if(o){d.innerHTML.includes("*")&&(d.querySelector("label abbr").remove(),d.querySelectorAll("input").forEach((function(e){e.hasAttribute("required")&&e.removeAttribute("required")})));var h=d.querySelector(".delete-record");h.hasAttribute("disabled")&&h.removeAttribute("disabled")}if(u++,d.innerHTML=d.innerHTML.replace(m,"".concat(e,"-").concat(u-1,"-")),i){var v=document.querySelectorAll('.repeatable-form:not([style*="display: none"])').length;d.innerHTML=d.innerHTML.replace(f,"".concat(r," ").concat(v+1))}else{var g=d.innerHTML.includes("(optional)");d.innerHTML=o&&!g?d.innerHTML.replace(f,"".concat(r," ").concat(u," (optional)")):d.innerHTML.replace(f,"".concat(r," ").concat(u))}d.innerHTML=d.innerHTML.replace(p,"ns".concat(u)),d.innerHTML=d.innerHTML.replace(/\n/g,""),d.innerHTML=d.innerHTML.replace(/>\s*</g,"><"),n.insertBefore(d,a),d.style.display="block",d.querySelectorAll("input").forEach((function(e){e.classList.remove("usa-input--error"),e.classList.remove("usa-input--success"),"text"===e.type||"number"===e.type||"password"===e.type||"email"===e.type||"tel"===e.type?e.value="":"checkbox"!==e.type&&"radio"!==e.type||(e.checked=!1)})),d.querySelectorAll("select").forEach((function(e){e.classList.remove("usa-input--error"),e.classList.remove("usa-input--success"),e.selectedIndex=0})),d.querySelectorAll("label").forEach((function(e){e.classList.remove("usa-label--error"),e.classList.remove("usa-label--success")})),d.querySelectorAll(".usa-form-group").forEach((function(e){e.classList.remove("usa-form-group--error"),e.classList.remove("usa-form-group--success")})),d.querySelectorAll(".usa-error-message, .usa-alert").forEach((function(e){var t=e.closest("div");t&&t.remove()})),c.setAttribute("value","".concat(u));var _=d.querySelector(".delete-record");_&&function(e,t){var n="form",a=document.querySelector(".nameservers-form"),r=document.querySelector(".other-contacts-form"),o=document.querySelector("#add-form");r?(n="other_contacts",e.addEventListener("click",(function(e){y(e,t)}))):e.addEventListener("click",(function(e){b(e,t,a,o,n)}))}(_,r),o&&13==u&&a.setAttribute("disabled","true"),o&&l.length>=2&&l.forEach((function(e,t){Array.from(e.querySelectorAll(".delete-record")).forEach((function(e){e.removeAttribute("disabled")}))}))}))}(),function(){if(document.querySelector("#save-ds-data"))var e=0,t=setInterval((function(){++e>100&&clearInterval(t);var n=document.querySelector("#ds-toggle-dnssec-alert");n&&(n.click(),clearInterval(t))}),50)}(),v("other_contacts-has_other_contacts","other-employees","no-other-employees"),v("additional_details-has_anything_else_text","anything-else",null),g("member_access_level",{admin:"new-member-admin-permissions",basic:"new-member-basic-permissions"}),function(){if(document.querySelector(".nameservers-form")){var e=document.querySelectorAll(".repeatable-form");e.length<3&&e.forEach((function(e){Array.from(e.querySelectorAll(".delete-record")).forEach((function(e){e.setAttribute("disabled","true")}))}))}}(),function(){if(document.querySelector(".nameservers-form")){var e=document.querySelectorAll(".repeatable-form");e.length<3&&e.forEach((function(e){Array.from(e.querySelectorAll(".delete-record")).forEach((function(e){e.setAttribute("disabled","true")}))}))}}(),v("additional_details-has_cisa_representative","cisa-representative",null);var _=function(){return m((function e(t){u(this,e),f(this,"updateDisplay",(function(e,t,n,r){var o=e.unfiltered_total,i=e.total;o?i?((0,a.kl)(t),(0,a.Bt)(r),(0,a.Bt)(n)):((0,a.Bt)(t),(0,a.kl)(r),(0,a.Bt)(n)):((0,a.Bt)(t),(0,a.Bt)(r),(0,a.kl)(n))})),f(this,"unsetHeader",(function(e){e.removeAttribute("aria-sort");var t=e.innerText,n="".concat(t,', sortable column, currently unsorted"');e.setAttribute("aria-label",n),e.querySelector(".usa-table__header__button").setAttribute("title","Click to sort by ascending order.")})),this.tableWrapper=document.getElementById("".concat(t,"__table-wrapper")),this.tableHeaders=document.querySelectorAll("#".concat(t," th[data-sortable]")),this.currentSortBy="id",this.currentOrder="asc",this.currentStatus=[],this.currentSearchTerm="",this.scrollToTable=!1,this.searchInput=document.getElementById("".concat(t,"__search-field")),this.searchSubmit=document.getElementById("".concat(t,"__search-field-submit")),this.tableAnnouncementRegion=document.getElementById("".concat(t,"__usa-table__announcement-region")),this.resetSearchButton=document.getElementById("".concat(t,"__reset-search")),this.resetFiltersButton=document.getElementById("".concat(t,"__reset-filters")),this.statusCheckboxes=document.querySelectorAll(".".concat(t,' input[name="filter-status"]')),this.statusIndicator=document.getElementById("".concat(t,"__filter-indicator")),this.statusToggle=document.getElementById("".concat(t,"__usa-button--filter")),this.noTableWrapper=document.getElementById("".concat(t,"__no-data")),this.noSearchResultsWrapper=document.getElementById("".concat(t,"__no-search-results")),this.portfolioElement=document.getElementById("portfolio-js-value"),this.portfolioValue=this.portfolioElement?this.portfolioElement.getAttribute("data-portfolio"):null,this.initializeTableHeaders(),this.initializeSearchHandler(),this.initializeStatusToggleHandler(),this.initializeFilterCheckboxes(),this.initializeResetSearchButton(),this.initializeResetFiltersButton(),this.initializeAccordionAccessibilityListeners()}),[{key:"updatePagination",value:function(e,t,n,a,r,o,i,s,l){var c=this,u=document.querySelector("".concat(t," .usa-pagination__list")),d=document.querySelector(n),m=document.querySelector(t);if(d.innerHTML="",u.innerHTML="",u.classList.toggle("display-none",o<=1),m.classList.toggle("display-none",l<1),d.innerHTML="".concat(l," ").concat(e).concat(l>1?"s":"").concat(this.currentSearchTerm?' for "'+this.currentSearchTerm+'"':""),i){var f=document.createElement("li");f.className="usa-pagination__item usa-pagination__arrow",f.innerHTML='\n        <a href="'.concat(a,'" class="usa-pagination__link usa-pagination__previous-page" aria-label="Previous page">\n          <svg class="usa-icon" aria-hidden="true" role="img">\n            <use xlink:href="/public/img/sprite.svg#navigate_before"></use>\n          </svg>\n          <span class="usa-pagination__link-text">Previous</span>\n        </a>\n      '),f.querySelector("a").addEventListener("click",(function(e){e.preventDefault(),c.loadTable(r-1)})),u.appendChild(f)}if(r>2&&(u.appendChild(this.createPageItem(1,a,r)),r>3)){var p=document.createElement("li");p.className="usa-pagination__item usa-pagination__overflow",p.setAttribute("aria-label","ellipsis indicating non-visible pages"),p.innerHTML="<span>…</span>",u.appendChild(p)}for(var h=Math.max(1,r-1);h<=Math.min(o,r+1);h++)u.appendChild(this.createPageItem(h,a,r));if(r<o-1){if(r<o-2){var v=document.createElement("li");v.className="usa-pagination__item usa-pagination__overflow",v.setAttribute("aria-label","ellipsis indicating non-visible pages"),v.innerHTML="<span>…</span>",u.appendChild(v)}u.appendChild(this.createPageItem(o,a,r))}if(s){var g=document.createElement("li");g.className="usa-pagination__item usa-pagination__arrow",g.innerHTML='\n        <a href="'.concat(a,'" class="usa-pagination__link usa-pagination__next-page" aria-label="Next page">\n          <span class="usa-pagination__link-text">Next</span>\n          <svg class="usa-icon" aria-hidden="true" role="img">\n            <use xlink:href="/public/img/sprite.svg#navigate_next"></use>\n          </svg>\n        </a>\n      '),g.querySelector("a").addEventListener("click",(function(e){e.preventDefault(),c.loadTable(r+1)})),u.appendChild(g)}}},{key:"createPageItem",value:function(e,t,n){var a=this,r=document.createElement("li");return r.className="usa-pagination__item usa-pagination__page-no",r.innerHTML='\n      <a href="'.concat(t,'" class="usa-pagination__button" aria-label="Page ').concat(e,'">').concat(e,"</a>\n    "),e===n&&(r.querySelector("a").classList.add("usa-current"),r.querySelector("a").setAttribute("aria-current","page")),r.querySelector("a").addEventListener("click",(function(t){t.preventDefault(),a.loadTable(e)})),r}},{key:"loadTable",value:function(e,t,n){throw new Error("loadData() must be implemented in a subclass")}},{key:"initializeTableHeaders",value:function(){var e=this;this.tableHeaders.forEach((function(t){t.addEventListener("click",(function(){var n=t.getAttribute("data-sortable"),a="asc";n===e.currentSortBy&&(a="asc"===e.currentOrder?"desc":"asc"),e.loadTable(1,n,a)}))}))}},{key:"initializeSearchHandler",value:function(){var e=this;this.searchSubmit.addEventListener("click",(function(t){t.preventDefault(),e.currentSearchTerm=e.searchInput.value,e.currentSearchTerm?(0,a.kl)(e.resetSearchButton):(0,a.Bt)(e.resetSearchButton),e.loadTable(1,"id","asc"),e.resetHeaders()}))}},{key:"initializeStatusToggleHandler",value:function(){var e=this;this.statusToggle&&this.statusToggle.addEventListener("click",(function(){var t;"/public/img/sprite.svg#expand_more"===(t=e.statusToggle.querySelector("use")).getAttribute("xlink:href")?t.setAttribute("xlink:href","/public/img/sprite.svg#expand_less"):t.setAttribute("xlink:href","/public/img/sprite.svg#expand_more")}))}},{key:"initializeFilterCheckboxes",value:function(){var e=this;this.statusCheckboxes.forEach((function(t){t.addEventListener("change",(function(){var n=t.value;if(t.checked)e.currentStatus.push(n);else{var r=e.currentStatus.indexOf(n);r>-1&&e.currentStatus.splice(r,1)}0==e.currentStatus.length?(0,a.Bt)(e.resetFiltersButton):(0,a.kl)(e.resetFiltersButton),e.scrollToTable=!1,e.loadTable(1,"id","asc"),e.resetHeaders(),e.updateStatusIndicator()}))}))}},{key:"resetHeaders",value:function(){var e=this;this.tableHeaders.forEach((function(t){e.unsetHeader(t)})),this.tableAnnouncementRegion.innerHTML=""}},{key:"resetSearch",value:function(){this.searchInput.value="",this.currentSearchTerm="",(0,a.Bt)(this.resetSearchButton),this.loadTable(1,"id","asc"),this.resetHeaders()}},{key:"initializeResetSearchButton",value:function(){var e=this;this.resetSearchButton&&this.resetSearchButton.addEventListener("click",(function(){e.resetSearch()}))}},{key:"resetFilters",value:function(){this.currentStatus=[],this.statusCheckboxes.forEach((function(e){e.checked=!1})),(0,a.Bt)(this.resetFiltersButton),this.scrollToTable=!1,this.loadTable(1,"id","asc"),this.resetHeaders(),this.updateStatusIndicator()}},{key:"initializeResetFiltersButton",value:function(){var e=this;this.resetFiltersButton&&this.resetFiltersButton.addEventListener("click",(function(){e.resetFilters()}))}},{key:"updateStatusIndicator",value:function(){this.statusIndicator.innerHTML="",(0,a.Bt)(this.statusIndicator),this.currentStatus.length&&(this.statusIndicator.innerHTML="("+this.currentStatus.length+")"),(0,a.kl)(this.statusIndicator)}},{key:"closeFilters",value:function(){"true"===this.statusToggle.getAttribute("aria-expanded")&&this.statusToggle.click()}},{key:"initializeAccordionAccessibilityListeners",value:function(){var e=this;document.addEventListener("focusin",(function(t){var n=document.querySelector(".usa-accordion--select");document.querySelector('.usa-button--filter[aria-expanded="true"]')&&!n.contains(t.target)&&e.closeFilters()})),document.addEventListener("click",(function(t){var n=document.querySelector(".usa-accordion--select");document.querySelector('.usa-button--filter[aria-expanded="true"]')&&!n.contains(t.target)&&e.closeFilters()}))}}])}(),S=function(e){function t(){return u(this,t),o(this,t,["domains"])}return l(t,e),m(t,[{key:"loadTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentSortBy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentOrder,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scrollToTable,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.currentStatus,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.currentSearchTerm,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.portfolioValue,l=document.getElementById("get_domains_json_url");if(l){var c=l.innerHTML;if(c){var u=new URLSearchParams({page:e,sort_by:n,order:a,status:o,search_term:i});s&&u.append("portfolio",s);var d="".concat(c,"?").concat(u.toString());fetch(d).then((function(e){return e.json()})).then((function(e){if(e.error)console.error("Error in AJAX call: "+e.error);else{t.updateDisplay(e,t.tableWrapper,t.noTableWrapper,t.noSearchResultsWrapper,t.currentSearchTerm);var o=document.querySelector("#domains tbody");o.innerHTML="",e.domains.forEach((function(e){var n=e.expiration_date?new Date(e.expiration_date):null,a=n?n.toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"",r=n?n.getTime():"",i=e.action_url,s=e.domain_info__sub_organization?e.domain_info__sub_organization:"⎯",l=document.createElement("tr"),c="";t.portfolioValue&&(c='\n                <td>\n                    <span class="text-wrap" aria-label="'.concat(e.suborganization?s:"No suborganization",'">').concat(s,"</span>\n                </td>\n              ")),l.innerHTML='\n              <th scope="row" role="rowheader" data-label="Domain name">\n                '.concat(e.name,'\n              </th>\n              <td data-sort-value="').concat(r,'" data-label="Expires">\n                ').concat(a,'\n              </td>\n              <td data-label="Status">\n                ').concat(e.state_display,'\n                <svg \n                  class="usa-icon usa-tooltip usa-tooltip--registrar text-middle margin-bottom-05 text-accent-cool no-click-outline-and-cursor-help" \n                  data-position="top"\n                  title="').concat(e.get_state_help_text,'"\n                  focusable="true"\n                  aria-label="').concat(e.get_state_help_text,'"\n                  role="tooltip"\n                >\n                  <use aria-hidden="true" xlink:href="/public/img/sprite.svg#info_outline"></use>\n                </svg>\n              </td>\n              ').concat(c,'\n              <td>\n                <a href="').concat(i,'">\n                  <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                    <use xlink:href="/public/img/sprite.svg#').concat(e.svg_icon,'"></use>\n                  </svg>\n                  ').concat(e.action_label,' <span class="usa-sr-only">').concat(e.name,"</span>\n                </a>\n              </td>\n            "),o.appendChild(l)})),function e(){window.tooltip&&"function"==typeof window.tooltip.init?window.tooltip.init():setTimeout(e,100)}(),r&&h("class","domains"),t.scrollToTable=!0,t.updatePagination("domain","#domains-pagination","#domains-pagination .usa-pagination__counter","#domains",e.page,e.num_pages,e.has_previous,e.has_next,e.total),t.currentSortBy=n,t.currentOrder=a,t.currentSearchTerm=i}})).catch((function(e){return console.error("Error fetching domains:",e)}))}}}}])}(_),E=function(e){function t(){return u(this,t),o(this,t,["domain-requests"])}return l(t,e),m(t,[{key:"toggleExportButton",value:function(e){var t=document.getElementById("export-csv");t&&(e.length>0?(0,a.kl)(t):(0,a.Bt)(t))}},{key:"loadTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentSortBy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentOrder,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scrollToTable,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.currentStatus,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.currentSearchTerm,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this.portfolioValue,l=document.getElementById("get_domain_requests_json_url");if(l){var c=l.innerHTML;if(c){var u=new URLSearchParams({page:e,sort_by:n,order:a,status:o,search_term:i});s&&u.append("portfolio",s);var d="".concat(c,"?").concat(u.toString());fetch(d).then((function(e){return e.json()})).then((function(e){if(e.error)console.error("Error in AJAX call: "+e.error);else{t.toggleExportButton(e.domain_requests),t.updateDisplay(e,t.tableWrapper,t.noTableWrapper,t.noSearchResultsWrapper,t.currentSearchTerm);var o,s=document.querySelector("#domain-requests tbody");s.innerHTML="",document.querySelectorAll('[data-placeholder-for^="toggle-delete-domain-alert"]').forEach((function(e){e.remove()})),window.modal.off(),o=e.domain_requests.some((function(e){return e.is_deletable}));var l=document.querySelector(".delete-header");if(o){if(!l){var c=document.createElement("th");c.setAttribute("scope","col"),c.setAttribute("role","columnheader"),c.setAttribute("class","delete-header"),c.innerHTML='\n              <span class="usa-sr-only">Delete Action</span>',document.querySelector("#domain-requests thead tr").appendChild(c)}}else l&&l.remove();e.domain_requests.forEach((function(e){var n=e.requested_domain?e.requested_domain:'New domain request <br><span class="text-base font-body-xs">('.concat(A(e.created_at),")</span>"),a=e.action_url,r=e.action_label,i=e.last_submitted_date?new Date(e.last_submitted_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):'<span class="text-base">Not submitted</span>',l='\n          <span class="usa-sr-only">Domain request cannot be deleted now. Edit the request for more information.</span>',c="";if(t.portfolioValue&&(c='\n              <td>\n                  <span class="text-wrap break-word">'.concat(e.creator?e.creator:"","</span>\n              </td>\n            ")),e.is_deletable){var u="",d="";e.requested_domain?(u="Are you sure you want to delete ".concat(e.requested_domain,"?"),d="This will remove the domain request from the .gov registrar. This action cannot be undone."):e.created_at?(u="Are you sure you want to delete this domain request?",d="This will remove the domain request (created ".concat(A(e.created_at),") from the .gov registrar. This action cannot be undone")):(u="Are you sure you want to delete New domain request?",d="This will remove the domain request from the .gov registrar. This action cannot be undone."),l='\n              <a \n                role="button" \n                id="button-toggle-delete-domain-alert-'.concat(e.id,'"\n                href="#toggle-delete-domain-alert-').concat(e.id,'"\n                class="usa-button text-secondary usa-button--unstyled text-no-underline late-loading-modal-trigger line-height-sans-5"\n                aria-controls="toggle-delete-domain-alert-').concat(e.id,'"\n                data-open-modal\n              >\n                <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                  <use xlink:href="/public/img/sprite.svg#delete"></use>\n                </svg> Delete <span class="usa-sr-only">').concat(n,"</span>\n              </a>");var m='\n              <button type="button"\n              class="usa-button usa-button--secondary usa-modal__submit"\n              data-pk = '.concat(e.id,'\n              name="delete-domain-request">Yes, delete request</button>\n            '),f=document.createElement("div");f.setAttribute("class","usa-modal"),f.setAttribute("id","toggle-delete-domain-alert-".concat(e.id)),f.setAttribute("aria-labelledby","Are you sure you want to continue?"),f.setAttribute("aria-describedby","Domain will be removed"),f.setAttribute("data-force-action",""),f.innerHTML='\n              <div class="usa-modal__content">\n                <div class="usa-modal__main">\n                  <h2 class="usa-modal__heading" id="modal-1-heading">\n                    '.concat(u,'\n                  </h2>\n                  <div class="usa-prose">\n                    <p id="modal-1-description">\n                      ').concat(d,'\n                    </p>\n                  </div>\n                  <div class="usa-modal__footer">\n                      <ul class="usa-button-group">\n                        <li class="usa-button-group__item">\n                          ').concat(m,'\n                        </li>      \n                        <li class="usa-button-group__item">\n                            <button\n                                type="button"\n                                class="usa-button usa-button--unstyled padding-105 text-center"\n                                data-close-modal\n                            >\n                                Cancel\n                            </button>\n                        </li>\n                      </ul>\n                  </div>\n                </div>\n                <button\n                  type="button"\n                  class="usa-button usa-modal__close"\n                  aria-label="Close this window"\n                  data-close-modal\n                >\n                  <svg class="usa-icon" aria-hidden="true" focusable="false" role="img">\n                    <use xlink:href="/public/img/sprite.svg#close"></use>\n                  </svg>\n                </button>\n              </div>\n              '),t.tableWrapper.appendChild(f),t.portfolioValue&&(l='\n              <a \n                role="button" \n                id="button-toggle-delete-domain-alert-'.concat(e.id,'"\n                href="#toggle-delete-domain-alert-').concat(e.id,'"\n                class="usa-button text-secondary usa-button--unstyled text-no-underline late-loading-modal-trigger margin-top-2 visible-mobile-flex line-height-sans-5"\n                aria-controls="toggle-delete-domain-alert-').concat(e.id,'"\n                data-open-modal\n              >\n                <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                  <use xlink:href="/public/img/sprite.svg#delete"></use>\n                </svg> Delete <span class="usa-sr-only">').concat(n,'</span>\n              </a>\n\n              <div class="usa-accordion usa-accordion--more-actions margin-right-2 hidden-mobile-flex">\n                <div class="usa-accordion__heading">\n                  <button\n                    type="button"\n                    class="usa-button usa-button--unstyled usa-button--with-icon usa-accordion__button usa-button--more-actions"\n                    aria-expanded="false"\n                    aria-controls="more-actions-').concat(e.id,'"\n                  >\n                    <svg class="usa-icon top-2px" aria-hidden="true" focusable="false" role="img" width="24">\n                      <use xlink:href="/public/img/sprite.svg#more_vert"></use>\n                    </svg>\n                  </button>\n                </div>\n                <div id="more-actions-').concat(e.id,'" class="usa-accordion__content usa-prose shadow-1 left-auto right-0" hidden>\n                  <h2>More options</h2>\n                  <a \n                    role="button" \n                    id="button-toggle-delete-domain-alert-').concat(e.id,'"\n                    href="#toggle-delete-domain-alert-').concat(e.id,'"\n                    class="usa-button text-secondary usa-button--unstyled text-no-underline late-loading-modal-trigger margin-top-2 line-height-sans-5"\n                    aria-controls="toggle-delete-domain-alert-').concat(e.id,'"\n                    data-open-modal\n                  >\n                    <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                      <use xlink:href="/public/img/sprite.svg#delete"></use>\n                    </svg> Delete <span class="usa-sr-only">').concat(n,"</span>\n                  </a>\n                </div>\n              </div>\n              "))}var p=document.createElement("tr");p.innerHTML='\n            <th scope="row" role="rowheader" data-label="Domain name">\n              '.concat(n,'\n            </th>\n            <td data-sort-value="').concat(new Date(e.last_submitted_date).getTime(),'" data-label="Date submitted">\n              ').concat(i,"\n            </td>\n            ").concat(c,'\n            <td data-label="Status">\n              ').concat(e.status,'\n            </td>\n            <td>\n              <a href="').concat(a,'">\n                <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                  <use xlink:href="/public/img/sprite.svg#').concat(e.svg_icon,'"></use>\n                </svg>\n                ').concat(r,' <span class="usa-sr-only">').concat(e.requested_domain?e.requested_domain:"New domain request","</span>\n              </a>\n            </td>\n            ").concat(o?"<td>"+l+"</td>":"","\n          "),s.appendChild(p)})),window.modal.on(),document.querySelectorAll(".usa-modal__content").forEach((function(n){var a=n.querySelector(".usa-modal__submit"),r=n.querySelector(".usa-modal__close");a.addEventListener("click",(function(){var n=a.getAttribute("data-pk");r.click();var o=e.page;1==e.total&&e.unfiltered_total>1&&o--,t.deleteDomainRequest(n,o)}))})),r&&h("class","domain-requests"),t.scrollToTable=!0,t.updatePagination("domain request","#domain-requests-pagination","#domain-requests-pagination .usa-pagination__counter","#domain-requests",e.page,e.num_pages,e.has_previous,e.has_next,e.total),t.currentSortBy=n,t.currentOrder=a,t.currentSearchTerm=i}})).catch((function(e){return console.error("Error fetching domain requests:",e)}))}}}},{key:"deleteDomainRequest",value:function(e,t){var n=this,a=document.querySelector('input[name="csrfmiddlewaretoken"]').value,r="csrfmiddlewaretoken=".concat(encodeURIComponent(a),"&delete-domain-request=");fetch("/domain-request/".concat(e,"/delete"),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded","X-CSRFToken":a},body:r}).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));n.loadTable(t,n.currentSortBy,n.currentOrder,n.scrollToTable,n.currentSearchTerm)})).catch((function(e){return console.error("Error fetching domain requests:",e)}))}}])}(_),T=function(e){function t(){return u(this,t),o(this,t,["members"])}return l(t,e),m(t,[{key:"initShowMoreButtons",value:function(){document.querySelectorAll(".usa-button--show-more-button").forEach((function(e){var t=e.dataset.for,n=document.getElementById(t),r=e.parentElement.parentElement;n&&"tr"===n.tagName.toLowerCase()&&n.classList.contains("show-more-content")&&r&&"tr"===r.tagName.toLowerCase()?e.addEventListener("click",(function(){!function(e,t,n){var r=e.querySelector("span"),o=e.querySelector("use");t.classList.contains("display-none")?((0,a.kl)(t),r.textContent="Close",o.setAttribute("xlink:href","/public/img/sprite.svg#expand_less"),n.classList.add("hide-td-borders"),e.setAttribute("aria-label","Close additional information")):((0,a.Bt)(t),r.textContent="Expand",o.setAttribute("xlink:href","/public/img/sprite.svg#expand_more"),n.classList.remove("hide-td-borders"),e.setAttribute("aria-label","Expand for additional information"))}(e,n,r)})):console.warn("Found a toggle button with no associated toggleable content or parent row")}))}},{key:"handleLastActive",value:function(e){var t="Invited",n="Invalid date",a=n,r=-1;if(e===t)a=t,r=0;else if(e&&e!==n){var o=new Date(e);isNaN(o.getTime())?console.error("Error: Invalid date string provided: ".concat(e)):(a=o.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}),r=o.getTime())}return{display_value:a,sort_value:r}}},{key:"generateDomainsHTML",value:function(e,t,n,a){var r="";if(e>0){r+="<div class='desktop:grid-col-5 margin-bottom-2 desktop:margin-bottom-0'>",r+="<h4 class='margin-y-0 text-primary'>Domains assigned</h4>",r+="<p class='margin-y-0'>This member is assigned to ".concat(e," domains:</p>"),r+="<ul class='usa-list usa-list--unstyled margin-y-0'>";for(var o=0;o<e&&o<6;o++)r+='<li><a href="'.concat(n[o],'">').concat(t[o],"</a></li>");r+="</ul>",e>=6&&(r+='<p><a href="'.concat(a,'/domains">View assigned domains</a></p>')),r+="</div>"}return r}},{key:"generatePermissionsHTML",value:function(e,t){var n="";return e.includes(t.VIEW_ALL_DOMAINS)?n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Domains:</strong> Can view all organization domains. Can manage domains they are assigned to and edit information about the domain (including DNS settings).</p>":e.includes(t.VIEW_MANAGED_DOMAINS)&&(n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Domains:</strong> Can manage domains they are assigned to and edit information about the domain (including DNS settings).</p>"),e.includes(t.EDIT_REQUESTS)?n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Domain requests:</strong> Can view all organization domain requests. Can create domain requests and modify their own requests.</p>":e.includes(t.VIEW_ALL_REQUESTS)&&(n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Domain requests (view-only):</strong> Can view all organization domain requests. Can't create or modify any domain requests.</p>"),e.includes(t.EDIT_MEMBERS)?n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Members:</strong> Can manage members including inviting new members, removing current members, and assigning domains to members.</p>":e.includes(t.VIEW_MEMBERS)&&(n+="<p class='margin-top-1 p--blockquote'><strong class='text-base-dark'>Members (view-only):</strong> Can view all organizational members. Can't manage any members.</p>"),n||(n+="<p class='margin-top-1 p--blockquote'><b>No additional permissions:</b> There are no additional permissions for this member.</p>"),"<div class='desktop:grid-col-7'><h4 class='margin-y-0 text-primary'>Additional permissions for this member</h4>"+n+"</div>"}},{key:"loadTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentSortBy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentOrder,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scrollToTable,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.currentSearchTerm,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.portfolioValue,s=new URLSearchParams({page:e,sort_by:n,order:a,search_term:o});i&&s.append("portfolio",i);var l=document.getElementById("get_members_json_url");if(l){var c=l.innerHTML;if(c){var u="".concat(c,"?").concat(s.toString());fetch(u).then((function(e){return e.json()})).then((function(e){if(e.error)console.error("Error in AJAX call: "+e.error);else{t.updateDisplay(e,t.tableWrapper,t.noTableWrapper,t.noSearchResultsWrapper,t.currentSearchTerm);var i=document.querySelector("#members tbody");i.innerHTML="";var s=e.UserPortfolioPermissionChoices;e.members.forEach((function(e){var n=e.source+e.id,a=e.name,r=e.member_display,o=e.permissions,l=e.domain_urls,c=e.domain_names,u=l.length,d=t.handleLastActive(e.last_active),m=e.action_url,f=e.action_label,p=e.svg_icon,h=document.createElement("tr"),v="";e.is_admin&&(v='<span class="usa-tag margin-left-1 bg-primary">Admin</span>');var g=t.generateDomainsHTML(u,c,l,m),b=t.generatePermissionsHTML(o,s),y="",_=document.createElement("tr");(g||b)&&(y='\n                <button \n                  type="button" \n                  class="usa-button--show-more-button usa-button usa-button--unstyled display-block margin-top-1" \n                  data-for='.concat(n,'\n                  aria-label="Expand for additional information"\n                >\n                  <span>Expand</span>\n                  <svg class="usa-icon usa-icon--big" aria-hidden="true" focusable="false" role="img" width="24">\n                    <use xlink:href="/public/img/sprite.svg#expand_more"></use>\n                  </svg>\n                </button>\n              '),_.innerHTML="<td colspan='3' headers=\"header-member row-header-".concat(n,'" class="padding-top-0"><div class=\'grid-row\'>').concat(g," ").concat(b,"</div></td>"),_.classList.add("show-more-content"),_.classList.add("display-none"),_.id=n),h.innerHTML='\n              <th role="rowheader" headers="header-member" data-label="member email" id=\'row-header-'.concat(n,"'>\n                ").concat(r," ").concat(v," ").concat(y,'\n              </th>\n              <td headers="header-last-active row-header-').concat(n,'" data-sort-value="').concat(d.sort_value,'" data-label="last_active">\n                ').concat(d.display_value,'\n              </td>\n              <td headers="header-action row-header-').concat(n,'">\n                <a href="').concat(m,'">\n                  <svg class="usa-icon" aria-hidden="true" focusable="false" role="img" width="24">\n                    <use xlink:href="/public/img/sprite.svg#').concat(p,'"></use>\n                  </svg>\n                  ').concat(f,' <span class="usa-sr-only">').concat(a,"</span>\n                </a>\n              </td>\n            "),i.appendChild(h),(g||b)&&i.appendChild(_)})),t.initShowMoreButtons(),r&&h("class","members"),t.scrollToTable=!0,t.updatePagination("member","#members-pagination","#members-pagination .usa-pagination__counter","#members",e.page,e.num_pages,e.has_previous,e.has_next,e.total),t.currentSortBy=n,t.currentOrder=a,t.currentSearchTerm=o}})).catch((function(e){return console.error("Error fetching members:",e)}))}}}}])}(_),q=function(e){function t(){var e;return u(this,t),(e=o(this,t,["member-domains"])).currentSortBy="name",e}return l(t,e),m(t,[{key:"loadTable",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.currentSortBy,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.currentOrder,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.scrollToTable,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:this.currentSearchTerm,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:this.portfolioValue,s=new URLSearchParams({page:e,sort_by:n,order:a,search_term:o}),l=this.portfolioElement?this.portfolioElement.getAttribute("data-email"):null,c=this.portfolioElement?this.portfolioElement.getAttribute("data-member-id"):null,u=this.portfolioElement?this.portfolioElement.getAttribute("data-member-only"):null;i&&s.append("portfolio",i),l&&s.append("email",l),c&&s.append("member_id",c),u&&s.append("member_only",u);var d=document.getElementById("get_member_domains_json_url");if(d){var m=d.innerHTML;if(m){var f="".concat(m,"?").concat(s.toString());fetch(f).then((function(e){return e.json()})).then((function(e){if(e.error)console.error("Error in AJAX call: "+e.error);else{t.updateDisplay(e,t.tableWrapper,t.noTableWrapper,t.noSearchResultsWrapper,t.currentSearchTerm);var i=document.querySelector("#member-domains tbody");i.innerHTML="",e.domains.forEach((function(e){var t=document.createElement("tr");t.innerHTML='\n              <td scope="row" data-label="Domain name">\n                '.concat(e.name,"\n              </td>\n            "),i.appendChild(t)})),r&&h("class","member-domains"),t.scrollToTable=!0,t.updatePagination("member domain","#member-domains-pagination","#member-domains-pagination .usa-pagination__counter","#member-domains",e.page,e.num_pages,e.has_previous,e.has_next,e.total),t.currentSortBy=n,t.currentOrder=a,t.currentSearchTerm=o}})).catch((function(e){return console.error("Error fetching domains:",e)}))}}}}])}(_);document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("domains")){var e=new S;e.tableWrapper&&e.loadTable(1)}})),document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("domain-requests")){var e=new E;e.tableWrapper&&e.loadTable(1)}function t(e){document.querySelectorAll('.usa-button--more-actions[aria-expanded="true"]').forEach((function(t){var n,a=t.closest(".usa-accordion--more-actions");a&&!a.contains(e.target)&&"true"===(n=t).getAttribute("aria-expanded")&&n.click()}))}document.addEventListener("focusin",(function(e){t(e)})),document.addEventListener("click",(function(e){t(e)}))}));var L,A=function(e){var t=new Date(e),n=t.getUTCFullYear(),a=t.toLocaleString("en-US",{month:"short",timeZone:"UTC"}),r=t.getUTCDate().toString().padStart(2,"0"),o=t.getUTCHours(),i=t.getUTCMinutes().toString().padStart(2,"0"),s=o>=12?"PM":"AM";return o=o%12||12,"".concat(a," ").concat(r,", ").concat(n,", ").concat(o,":").concat(i," ").concat(s," UTC")};document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("members")){var e=new T;e.tableWrapper&&e.loadTable(1)}})),document.addEventListener("DOMContentLoaded",(function(){if(document.getElementById("member-domains")){var e=new q;e.tableWrapper&&e.loadTable(1)}})),(L=document.querySelector(".show-confirmation-modal"))&&L.click(),function(){function e(e){return document.querySelector("#id_".concat(e))}document.querySelectorAll('[id$="__edit-button"]').forEach((function(t){var n=t.id.split("__");if(n&&n.length>0){var a=n[0];!function(t,n){n.addEventListener("click",(function(){n.disabled=!0,"full_name"==t?function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"full_name",n=document.querySelector("#profile-name-group");n&&n.classList.remove("display-none");var a=e(t);a&&(inputFieldParentDiv=a.closest("div"),inputFieldParentDiv&&inputFieldParentDiv.classList.add("display-none"))}():function(t,n){var a=e(t);document.querySelector("#".concat(t,"__edit-button-readonly")).classList.toggle("display-none"),a.classList.toggle("display-none");var r=n.closest(".grid-col-2").closest(".grid-row");r&&r.classList.toggle("bold-usa-label")}(t,n),n.classList.add("display-none"),n.disabled=!1}))}(a,t);var r=t.parentElement.parentElement.parentElement;if(r){var o=r.querySelector(".toggleable_input__readonly-field"),i=document.getElementById("id_".concat(a));if(!i||!o)return;var s=i.value;if(s||"full_name"==a)if("full_name"==a){var l=document.querySelector("#id_first_name"),c=document.querySelector("#id_middle_name"),u=document.querySelector("#id_last_name");if(l&&u&&l.value&&u.value){var d=[l.value,c.value,u.value];o.innerHTML=d.join(" ")}else{var m=document.querySelector("#full_name__edit-button-readonly"),f=m.querySelector("svg use");if(f){var p=f.getAttribute("xlink:href");if(p){var h=p.split("#");if(2===h.length){var v=h[0]+"#error";f.setAttribute("xlink:href",v),m.classList.add("toggleable_input__error"),label=m.querySelector(".toggleable_input__readonly-field"),label.innerHTML="Unknown"}}}}o.classList.contains("text-base")&&o.classList.remove("text-base")}else o.innerHTML=s}}})),document.addEventListener("DOMContentLoaded",(function(){var e=document.querySelector("#finish-profile-setup-form"),t=e?e.querySelectorAll("input"):null;if(!t)return null;var n=!1;t.forEach((function(e){var t=e.name,a=document.querySelector("#id_".concat(t,"__error-message"));if(!t||!a)return null;var r=document.querySelector("#".concat(t,"__edit-button"));r&&r.click(),["first_name","middle_name","last_name"].includes(t)&&!n&&(fullNameButton=document.querySelector("#full_name__edit-button"),fullNameButton&&(fullNameButton.click(),n=!0))}))}))}(),function(){var e=!0,t=!1;function n(e,t,n){e.value===t?(0,a.Bt)(n):(0,a.kl)(n)}document.addEventListener("DOMContentLoaded",(function(a){document.querySelectorAll(".usa-combo-box").forEach((function(a){var r=a.querySelector("input"),o=a.querySelector("select");if(r&&o){var i=o.getAttribute("data-default-value"),s=a.querySelector(".usa-combo-box__clear-input");if(s){var l=a.querySelector("#".concat(r.id,"--list")),c=new MutationObserver((function(n){n.forEach((function(n){"childList"===n.type&&function(n,a,r){if(a&&!a.querySelector('[data-value=""]')&&!t){var o=document.createElement("li");o.setAttribute("role","option"),o.setAttribute("data-value",""),o.classList.add("usa-combo-box__list-option"),r||o.classList.add("usa-combo-box__list-option--selected"),o.textContent="⎯",a.insertBefore(o,a.firstChild),o.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),e=!1,n.click(),e=!0}))}}(s,l,i)}))}));c.observe(l,{childList:!0,subtree:!0}),r.addEventListener("input",(function(){t=!0})),r.addEventListener("blur",(function(){t=!1})),n(o,i,s),o.addEventListener("change",(function(){n(o,i,s)})),s.addEventListener("click",(function(t){if(e&&i){t.preventDefault(),t.stopPropagation(),r.click();var n=document.querySelectorAll(".usa-combo-box__list-option");n&&n.forEach((function(e){e.getAttribute("data-value")===i&&e.click()}))}}))}else console.warn("No clear element found")}else console.warn("No combobox element found")}))}))}(),function(e){var t="portfolio_requesting_entity",n=document.getElementById("id_".concat(t,"-requesting_entity_is_suborganization__fieldset")),r=null==n?void 0:n.querySelectorAll('input[name="'.concat(t,'-requesting_entity_is_suborganization"]')),o=document.getElementById("id_".concat(t,"-sub_organization")),i=document.getElementById("suborganization-container"),s=document.getElementById("suborganization-container__details");if(r&&o&&i&&s){var l="True"===(null===(e=Array.from(r).find((function(e){return e.checked})))||void 0===e?void 0:e.value),c=document.getElementById("id_".concat(t,"-is_requesting_new_suborganization"));o&&!Array.from(o.options).some((function(e){return"other"===e.value}))&&o.add(new Option("Other (enter your organization manually)","other")),"True"===c.value&&(o.value="other"),u(),r.forEach((function(e){e.addEventListener("click",(function(){return u(e)}))})),o.addEventListener("change",(function(){return u()}))}function u(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;null!=e&&(l=(null==e?void 0:e.checked)&&"True"===e.value),l?(0,a.kl)(i):(0,a.Bt)(i),c.value=l&&"other"===o.value?"True":"False","True"===c.value?(0,a.kl)(s):(0,a.Bt)(s)}}()},178:(e,t,n)=>{function a(e){e.classList.add("display-none")}function r(e){e.classList.remove("display-none")}n.d(t,{Bt:()=>a,kl:()=>r})}},t={};function n(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n(635),n(686),n(790),n(178)})();